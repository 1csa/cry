(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{qV99:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return w});a("stmH");var n=a("5O1y"),i=(a("qXJo"),a("rAmn")),l=(a("42uY"),a("lGXO")),o=(a("zI7Q"),a("SCaQ")),c=(a("oeo2"),a("BmDy")),s=(a("vgpD"),a("UL5a")),r=(a("gFku"),a("7WSx")),d=(a("M6c6"),a("jMRu")),h=(a("IJu9"),a("DuHN")),m=(a("ljfu"),a("x2dm")),u=a("ERkP"),g=a.n(u),p=a("RqjH"),E=a("ggb3"),v=a.n(E),y=a("wknW"),C=a("NWZ9"),S=(a("XfOM"),m["a"].Option),D=20;class w extends g.a.PureComponent{constructor(e){super(e),this.onChangePage=(e=>{this.setState({loading:!0}),this.getAuditDocList(e),window.scrollTo(0,0)}),this.handleRemoveDoc=(e=>{var t=this.state,a=t.docList,n=t.count;a=a.filter(t=>t.doc_id!==e),this.setState({docList:a,count:n-1})}),this.onSearchByDocid=(e=>{this.setState({cat:"all",tier:"all",docList:[],count:0,pageIndex:1,searchDocid:e,loading:!0},()=>{this.getAuditDocList(1)})}),this.onSearchAudit=(()=>{this.setState({searchDocid:"",loading:!0},()=>{this.getAuditDocList(1)})}),this.onCatChange=(e=>{this.setState({cat:e})}),this.onTierChange=(e=>{this.setState({tier:e})}),this.onCtypeChange=(e=>{this.setState({ctype:e})}),this.onSortChange=(e=>{this.setState({sort:e,loading:!0},()=>{this.getAuditDocList(1)})}),this.onDomainChange=(e=>{this.setState({media_domain:e.target.value})}),this.state={getDataMode:"load",cat:"all",tier:"all",docList:[],count:0,sort:"createAt",pageIndex:1,searchDocid:"",ctype:"all",loading:!0,media_domain:""}}componentDidMount(){this.getAuditDocList(1)}getAuditDocList(e){var t=this.state,a=t.cat,n=t.tier,i=t.sort,l=t.searchDocid,o=t.ctype,c=t.media_domain,s=(e-1)*D,r="all"===a?"":a,d="all"===n?"":n,m="all"===o?"":o;v.a.get("/api/proxy/".concat(y["a"].API_TOOLS_HOST,"/news-review/search-top-news"),{params:{docid:l,operation_state:"0",category:r,operation:"",score:"-1",source_tier:d,operator_email:"",start:"",end:"",offset:s,count:D,sort:i,ctype:m,appid:"yidian",media_domain:c}}).then(t=>{"success"===t.data.status?this.setState({docList:t.data.result,pageIndex:e,count:t.data.total,loading:!1}):(h["a"].error("\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\uff01"),this.setState({loading:!1}))})}render(){var e=this.state,t=e.cat,a=e.tier,h=e.docList,u=e.count,E=e.sort,v=e.pageIndex,y=e.ctype,w=e.media_domain;return g.a.createElement(g.a.Fragment,null,g.a.createElement("div",{className:"main-content"},g.a.createElement(d["a"],{bordered:!1,style:{minHeight:380}},g.a.createElement(r["a"],{offsetTop:0},g.a.createElement("div",{style:{background:"#fff",padding:"15px 0",borderBottom:"1px solid #ddd"}},g.a.createElement(s["a"],{layout:"inline",style:{display:"inline-block"}},g.a.createElement(s["a"].Item,{label:"\u6587\u7ae0\u5927\u7c7b"},g.a.createElement(m["a"],{onChange:this.onCatChange,style:{width:150},value:t},g.a.createElement(S,{value:"all"},"\u5168\u90e8"),C["a"].map(e=>g.a.createElement(S,{key:e,value:e},e)))),g.a.createElement(s["a"].Item,{label:"\u6e90\u8bc4\u7ea7"},g.a.createElement(m["a"],{onChange:this.onTierChange,style:{width:150},value:a},g.a.createElement(S,{value:"all"},"\u5168\u90e8"),g.a.createElement(S,{value:"1"},"1"),g.a.createElement(S,{value:"2"},"2"),g.a.createElement(S,{value:"3"},"3"),g.a.createElement(S,{value:"4"},"4"),g.a.createElement(S,{value:"5,6"},"5-6"))),g.a.createElement(s["a"].Item,{label:"\u5185\u5bb9\u7c7b\u578b"},g.a.createElement(m["a"],{onChange:this.onCtypeChange,style:{width:150},value:y},g.a.createElement(S,{value:"all"},"\u5168\u90e8"),g.a.createElement(S,{value:"\u56fe\u6587"},"\u56fe\u6587"),g.a.createElement(S,{value:"\u89c6\u9891"},"\u89c6\u9891"))),g.a.createElement(s["a"].Item,{label:"\u8d26\u53f7\u9886\u57df"},g.a.createElement(c["a"],{value:w,onChange:this.onDomainChange})),g.a.createElement(s["a"].Item,null,g.a.createElement(o["a"],{type:"primary",onClick:this.onSearchAudit},"\u641c\u7d22"))),g.a.createElement("div",{style:{display:"inline-block",lineHeight:"14px"}},g.a.createElement(c["a"].Search,{style:{width:300},placeholder:"\u6309docid\u641c\u7d22\u53cd\u9988\u6587\u7ae0",onSearch:this.onSearchByDocid,enterButton:!0})),g.a.createElement("div",{style:{marginTop:"15px"}},g.a.createElement(s["a"],{layout:"inline"},g.a.createElement(s["a"].Item,{label:"\u6392\u5e8f"},g.a.createElement(m["a"],{onChange:this.onSortChange,style:{width:150},value:E},g.a.createElement(S,{value:"source_tier"},"\u6e90\u8bc4\u7ea7"),g.a.createElement(S,{value:"createTime"},"\u5165\u5ba1\u6838\u6c60\u65f6\u95f4"),g.a.createElement(S,{value:"createAt"},"\u53d1\u5e03\u65f6\u95f4"))))),g.a.createElement(l["a"],{style:{marginTop:"15px"},current:v,defaultCurrent:1,pageSize:D,total:u,showTotal:e=>"\u5171".concat(e,"\u6761"),onChange:this.onChangePage}))),g.a.createElement(i["a"],{spinning:this.state.loading},g.a.createElement("div",{className:"doc-list"},h&&h.map((e,t)=>g.a.createElement(p["a"],{key:e.docid,index:t,doc:e,handleRemoveDoc:this.handleRemoveDoc,appid:"yidian"})))),g.a.createElement(n["a"],null))))}}}}]);