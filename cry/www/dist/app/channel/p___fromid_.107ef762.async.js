(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"6wG5":function(e,t,a){e.exports={surface:"surface",text1:"text1",initlist:"initlist",left:"left",leftcontent:"leftcontent","leftcontent-text1":"leftcontent-text1",tab:"tab","leftcontent-text2":"leftcontent-text2",right:"right","cropper-op":"cropper-op",save:"save",topimg:"topimg","topimg-main":"topimg-main",one:"one",leftimg:"leftimg","leftimg-main":"leftimg-main",img:"img",icon:"icon"}},CPln:function(e,t,a){e.exports={"main-recommend":"main-recommend","content-recommend":"content-recommend"}},TlX7:function(e,t,a){e.exports={"top-item-data":"top-item-data",showBtn:"showBtn"}},VdjU:function(e,t,a){"use strict";a.r(t);a("miYZ");var r=a("tsqr"),n=a("ERkP"),o=a.n(n),i=a("zCf4"),c=a("uDfI"),l={auth:e=>e.auth.auth},s={channelEdit:e=>e.sider.channelEdit,channelAll:e=>e.sider.channelAll,favs:e=>e.sider.favs},u={channelType:e=>e.topNews.channel.type||"",channelName:e=>e.topNews.channel.topicName||"",topNews:e=>e.topNews.topNews,recNews:e=>e.topNews.recNews,recList:e=>e.topNews.recNews.rec_list||[],recListOrigin:e=>e.topNews.recListOrigin,lastTopNews:e=>e.topNews.lastTopNews,operationLog:e=>e.topNews.operationLog||[],preTopNews:e=>e.topNews.preTopNews,loading:e=>e.topNews.loading,loadingrec:e=>e.topNews.loadingrec,loadingDoc:e=>e.topNews.loadingDoc,topList:e=>e.topNews.topNews.top_news||[],topListMap:e=>e.topNews.topNews.top_news&&e.topNews.topNews.top_news.reduce((e,t)=>(e[t.docid]=!0,e),{})||{},lifespan:e=>e.topNews.topNews.lifespan,currentTopItem:e=>e.topNews.currentTopItem,searchResult:e=>e.topNews.searchResult,mulitSearchResult:e=>e.topNews.mulitSearchResult,categoryList:e=>e.topNews.categoryList},p={getChannelAuthByUserid:e=>(t,a,r)=>{e({type:"auth/getChannelAuthByUserid",payload:{data:t,success:a,fail:r}})}},d=a("JCfe"),m=a.n(d),h={searchChannelEdit:e=>(t,a,r)=>{e({type:"sider/searchChannelEdit",payload:{keyword:t,success:a,fail:r}})},searchChannelAll:e=>(t,a,r)=>{e({type:"sider/searchChannelAll",payload:{keyword:t,success:a,fail:r}})},getFavsByUserid:e=>(t,a,r)=>{e({type:"sider/getFavsByUserid",payload:m()({},t,{success:a,fail:r})})},updateFavsByUserid:e=>(t,a,r)=>{e({type:"sider/updateFavsByUserid",payload:{favs:t,success:a,fail:r}})}},f={getChannelProps:e=>(t,a,r)=>{e({type:"topNews/getChannelProps",payload:{fromid:t,success:a,fail:r}})},getTopNewsByFromid:e=>(t,a,r)=>{e({type:"topNews/getTopNewsByFromid",payload:{fromid:t,success:a,fail:r}})},getRecNewsByFromid:e=>(t,a,r)=>{e({type:"topNews/getRecNewsByFromid",payload:{params:t,success:a,fail:r}})},getData:e=>(t,a,r)=>{e({type:"topNews/getData",payload:{params:t,success:a,fail:r}})},delNewsbyDocid:e=>(t,a,r)=>{e({type:"topNews/delNewsbyDocid",payload:{params:t,success:a,fail:r}})},searchByKeyword:e=>(t,a,r)=>{e({type:"topNews/searchByKeyword",payload:{params:t,success:a,fail:r}})},searchByKeywordAsDocId:e=>(t,a,r)=>{e({type:"topNews/searchByKeywordAsDocId",payload:{params:t,success:a,fail:r}})},updateTopNews:e=>(t,a,r)=>{e({type:"topNews/updateTopNews",payload:{topNews:t,success:a,fail:r}})},updateTopList:e=>(t,a,r)=>{e({type:"topNews/updateTopList",payload:{topList:t,success:a,fail:r}})},updateRecNews:e=>(t,a,r)=>{e({type:"topNews/updateRecNews",payload:{recNews:t,success:a,fail:r}})},updateRecList:e=>(t,a,r)=>{e({type:"topNews/updateRecList",payload:{recList:t,success:a,fail:r}})},updateRecItem:e=>(t,a,r,n)=>{e({type:"topNews/updateRecItem",payload:{index:t,recItem:a,success:r,fail:n}})},updateLoading:e=>t=>{e({type:"topNews/updateLoading",payload:{loading:t}})},updateTopItem:e=>(t,a,r,n)=>{e({type:"topNews/updateTopItem",payload:{index:t,topItem:a,success:r,fail:n}})},updateCurrentTopItem:e=>(t,a,r)=>{e({type:"topNews/updateCurrentTopItem",payload:{currentTopItem:t,success:a,fail:r}})},search:e=>(t,a,r,n)=>{var o={};8===t.length&&0===t.search(/^\w+$/)||t.replace(/,/g,"").length%8===0||/V_\w+$/.test(t)||/K_\w+$/.test(t)||/T_\w+$/.test(t)||/J_\w+$/.test(t)||/A_\w+$/.test(t)||/N_\w+$/.test(t)||/C_\w+$/.test(t)||/E_\w+$/.test(t)?o.docid=t:o.url=t,o.fromid=a,e({type:"topNews/search",payload:m()({},o,{success:r,fail:n})})},mulitSearch:e=>(t,a,r,n)=>{var o={};t.replace(/,/g,"").length%8===0&&(o.docid=t),e({type:"topNews/mulitSearch",payload:m()({},o,{success:r,fail:n})})},saveTopNews:e=>(t,a,r,n)=>{e({type:"topNews/saveTopNews",payload:{topInfo:t,success:a,fail:r,operationLog:n}})},getCategoryList:e=>(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"yidian",a=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;e({type:"topNews/getCategory",payload:{appid:t,success:a,fail:r}})}),updateLastTopNews:e=>(t,a,r)=>{e({type:"topNews/updateLastTopNews",payload:{lastTopNews:t,success:a,fail:r}})}},v=(a("/zsF"),a("PArb")),y=(a("2qtc"),a("kLXV")),g=(a("+L6B"),a("2/Rp")),b=(a("5Dmo"),a("3S7+")),w=(a("sRBo"),a("kaz8")),E=a("maMK"),k=a.n(E),x=(a("5NDa"),a("5rEg")),L=(a("lUTK"),a("BvKs")),N=a("PrGQ"),O=a("bPu0"),j=a("Alrg"),_=a("bvDX"),C=a("UmCv"),S=a("Ii6p"),T=a("qmcq");a("Xts7");function I(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=D(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}function D(e,t){if(e){if("string"===typeof e)return R(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?R(e,t):void 0}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var A=N["c"].Link,B=L["a"].SubMenu,z=L["a"].Item,P=x["a"].Search,F=e=>{var t=e.channelEdit,a=e.channelAll,i=e.favs,c=e.auth,l=e.searchChannelEdit,s=e.searchChannelAll,u=e.updateFavs,p=Object(n["useState"])(i),d=k()(p,2),h=d[0],f=d[1],E=Object(n["useState"])(!1),x=k()(E,2),N=x[0],D=x[1],R=Object(n["useState"])([]),F=k()(R,2),G=F[0],M=F[1],V=Object(n["useState"])(!1),U=k()(V,2),K=U[0],J=U[1];Object(n["useEffect"])(()=>{f(i)},[i]),Object(n["useEffect"])(()=>{var e=[...h];c.includes(135)||(e=e.filter(e=>"homepage"!==e.id)),c.includes(136)||(e=e.filter(e=>"promotion"!==e.id)),c.includes(137)||(e=e.filter(e=>"hot"!==e.id)),c.includes(214)||(e=e.filter(e=>"19thBig"!==e.id)),c.includes(272)||(e=e.filter(e=>"hotpolitic"!==e.id)),f(e)},[c]);var H=e=>{var t,a=!1,n=I(h);try{for(n.s();!(t=n.n()).done;){var o=t.value,i=o.id;if(i===e._id||i===e.id){a=!0;break}}}catch(e){n.e(e)}finally{n.f()}if(a)r["b"].info("".concat(e.name," \u9891\u9053\u5df2\u5b58\u5728"));else{var c=[...h,{id:e._id||e.id,name:e.name}];u(c,()=>{f(c),J(!1),r["b"].success("\u6dfb\u52a0\u9891\u9053\u6210\u529f")},e=>r["b"].error("\u6dfb\u52a0\u9891\u9053\u5931\u8d25 ".concat(e)))}},Y=e=>{G.push(e),M(G)},X=()=>{var e=h.filter(e=>!G.includes(e.id));u(e,()=>{f(e),M([]),r["b"].success("\u66f4\u65b0\u9891\u9053\u6210\u529f")},e=>r["b"].error("\u66f4\u65b0\u9891\u9053\u5931\u8d25 ".concat(e)))},$=(e,t,a)=>{var r=[...e],n=r.splice(t,1),o=k()(n,1),i=o[0];return r.splice(a,0,i),r},q=e=>{if(e.destination&&e.source.index!==e.destination.index){var t=$(h,e.source.index,e.destination.index);f(t),u(t,()=>r["b"].success("\u8c03\u6574\u9891\u9053\u987a\u5e8f\u6210\u529f"),e=>r["b"].error("\u8c03\u6574\u9891\u9053\u987a\u5e8f\u5931\u8d25 ".concat(e)))}},W=(e,t)=>m()({userSelect:"none",paddingLeft:"48px",lineHeight:"40px",height:"40px",margin:"4px 0 8px 0",background:e?"lightgreen":"#ffffff"},t),Q=h&&h.map((e,t)=>o.a.createElement(z,{key:e.id},o.a.createElement(A,{to:{pathname:"/".concat(e.id),state:{initpage:"/".concat(e.id,"1")}}},e.name))),Z=o.a.createElement(O["a"],{onDragEnd:q},o.a.createElement(O["c"],{droppableId:"droppable"},(e,t)=>o.a.createElement("div",Object.assign({},e.droppableProps,{ref:e.innerRef}),h&&h.map((e,t)=>o.a.createElement(O["b"],{key:e.id,draggableId:e.id,index:t},(t,a)=>o.a.createElement("div",Object.assign({ref:t.innerRef},t.draggableProps,t.dragHandleProps,{style:W(a.isDragging,t.draggableProps.style)}),o.a.createElement(w["a"],{onChange:()=>Y(e.id)},e.name))))))),ee=e=>{e&&(l(e),s(e))},te=t&&t.map(e=>o.a.createElement(b["a"],{title:e._id},o.a.createElement(g["a"],{type:"ghost",size:"small",key:e._id,style:{margin:"0 10px 10px 0"},onClick:()=>H(e)},e.name))),ae=a&&a.map(e=>o.a.createElement(b["a"],{title:e.id},o.a.createElement(g["a"],{type:"ghost",size:"small",style:{margin:"0 10px 10px 0"},onClick:()=>H(e)},o.a.createElement("span",null,e.name),o.a.createElement("span",{style:{margin:"0 5px"}}," | "),o.a.createElement("span",null,e.userCount),o.a.createElement("span",{style:{margin:"0 5px"}}," | "),o.a.createElement("span",{style:{color:"#fb8383"}},e.type))));return o.a.createElement("div",{className:"main-sider"},o.a.createElement("div",{className:"sider-op"},o.a.createElement(g["a"],{size:"small",shape:"circle",onClick:()=>J(!0)},o.a.createElement(j["a"],null)),N?o.a.createElement("span",null,o.a.createElement(g["a"],{size:"small",shape:"circle",onClick:()=>D(!1)},o.a.createElement(_["a"],null)),o.a.createElement(g["a"],{size:"small",shape:"circle",onClick:X},o.a.createElement(C["a"],null))):o.a.createElement(g["a"],{size:"small",shape:"circle",onClick:()=>D(!0)},o.a.createElement(S["a"],null))),o.a.createElement(L["a"],{mode:"inline",openKeys:["fav"]},o.a.createElement(B,{key:"fav",title:o.a.createElement("span",null,o.a.createElement(T["a"],null),"\u6536\u85cf")},N?Z:Q)),o.a.createElement(y["a"],{title:"\u6dfb\u52a0\u9891\u9053",visible:K,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:()=>J(!1),onCancel:()=>J(!1),width:900},o.a.createElement(P,{className:"search",placeholder:"\u8bf7\u8f93\u5165\u9891\u9053\u540d",onSearch:ee,style:{width:"200px",margin:"auto",display:"block"}}),o.a.createElement(v["a"],{orientation:"left"},"\u7279\u6b8a\u9891\u9053"),te,o.a.createElement(v["a"],{orientation:"left"},"\u666e\u901a\u9891\u9053"),ae))},G=e=>({channelEdit:s.channelEdit(e),channelAll:s.channelAll(e),favs:s.favs(e),auth:l.auth(e)}),M=e=>({searchChannelEdit:h.searchChannelEdit(e),searchChannelAll:h.searchChannelAll(e),updateFavs:h.updateFavsByUserid(e)}),V=Object(c["c"])(G,M)(F),U=(a("T2oS"),a("W9HT")),K=(a("+BJd"),a("mr32")),J=(a("14J3"),a("BMrR")),H=a("JGaj"),Y=a.n(H),X=(a("bP8k"),a("gFTJ")),$=a("ggb3"),q=a.n($),W=(a("P2fV"),a("NJEC")),Q=(a("jCWc"),a("kPKH")),Z=(a("OaEy"),a("2fM7")),ee=a("ljKo"),te=a("vbjC"),ae=a("B7uh"),re=a("ExYV"),ne=a("P+IH"),oe=a("hPS3"),ie=a("aN9G"),ce=a("xdJY"),le={personalize:"\u63a8\u8350",weibo_pop:"\u70ed\u95e8",focus:"\u7126\u70b9",live:"\u76f4\u64ad",breaking:"\u5feb\u8baf",headline:"\u72ec\u5bb6",topic:"\u4e13\u9898",slides:"\u56fe\u96c6",gif:"\u52a8\u56fe",clue:"\u7b54\u9898\u7ebf\u7d22",refute:"\u8f9f\u8c23",positive:"\u6b63\u80fd\u91cf",authority:"\u6743\u5a01\u53d1\u5e03",yd_produce:"\u4e00\u70b9\u51fa\u54c1"},se={hwbrowser:"\u534e\u4e3a\u6d4f\u89c8\u5668",vivobrowser:"vivo\u6d4f\u89c8\u5668",oppobrowser:"OPPO\u6d4f\u89c8\u5668",mibrowser:"\u5c0f\u7c73\u6d4f\u89c8\u5668",s3rd_mzbrowser:"\u9b45\u65cf\u65b0\u95fb\u8d44\u8baf",s3rd_op583:"\u9b45\u65cf\u6d4f\u89c8\u5668",s3rd_op396:"\u91d1\u7acb\u6d4f\u89c8\u5668",s3rd_op397:"Nubia\u6d4f\u89c8\u5668"},ue={eventL1:"\u4e00\u7ea7",eventL2:"\u4e8c\u7ea7",eventL3:"\u4e09\u7ea7"},pe={first:"\u9996\u5c4f",other:"\u975e\u9996\u5c4f"},de=[{label:"\u56fe\u96c6",value:"imageCollection"},{label:"\u81ea\u5a92\u4f53",value:"wemedia"},{label:"\u8981\u95fb",value:"focusNews"},{label:"\u89c6\u9891",value:"videoNews"},{label:"\u56fe\u6587",value:"picdoc"},{label:"\u5c0f\u89c6\u9891",value:"videoMicro"},{label:"\u77ed\u5185\u5bb9",value:"duanneirong"}],me=[{label:"2\u7ea7",value:"wemedia_rank_2"},{label:"3\u7ea7",value:"wemedia_rank_3"},{label:"4\u7ea7",value:"wemedia_rank_4"},{label:"5\u7ea7",value:"wemedia_rank_5"},{label:"6\u7ea7",value:"wemedia_rank_6"}],he=[{value:"default",label:"\u9ed8\u8ba4\u6392\u5e8f"},{value:"date",label:"\u6309\u65f6\u95f4\u6392"},{value:"click-rate",label:"\u6309\u70b9\u51fb\u7387\u6392\u5e8f"},{value:"share-cnt",label:"\u6309\u5206\u4eab\u6570\u6392\u5e8f"},{value:"comments-cnt",label:"\u6309\u8bc4\u8bba\u6570\u6392\u5e8f"},{value:"doc-score",label:"\u6309\u7efc\u5408\u8bc4\u5206\u6392\u5e8f"}],fe=[{label:"\u6700\u8fd1\u4e00\u5929",value:"1"},{label:"\u6700\u8fd1\u4e8c\u5929",value:"2"},{label:"\u6700\u8fd1\u4e09\u5929",value:"3"},{label:"\u6700\u8fd1\u4e00\u5468",value:"7"},{label:"\u6700\u8fd1\u4e00\u6708",value:"30"},{label:"\u6700\u8fd1\u4e09\u6708",value:"90"},{label:"\u6700\u8fd1\u534a\u5e74",value:"180"},{label:"\u6700\u8fd1\u4e00\u5e74",value:"360"},{label:"\u6700\u8fd1\u4e24\u5e74",value:"720"}],ve=a("2zlx"),ye=a("jCr3"),ge=a("sxM7"),be=a("fcGt"),we=(a("TlX7"),e=>{var t=Object(n["useState"])(!1),a=k()(t,2),r=a[0],i=a[1],c=e.doc,l=Object(n["useCallback"])(e=>{return[{key:"ViewDoc",name:"\u5206\u53d1",tooltip:"(\u540e\u7aef\u66dd\u5149,\u5305\u62ec\u6d4f\u89c8\u5668-3\u5c4f)",value:Object(be["d"])(e.ViewDoc)||0},{key:"RViewDoc",name:"\u5b9e\u9645\u66dd\u5149",tooltip:"(\u524d\u7aef\u66dd\u5149)",value:Object(be["d"])(e.RViewDoc)||0},{key:"ClickDoc",name:"\u70b9\u51fb",tooltip:"",value:Object(be["d"])(e.ClickDoc)||0},{key:"ClickRate",name:"\u70b9\u51fb\u7387",tooltip:"(\u70b9\u51fb/\u5b9e\u9645\u66dd\u5149)",value:Math.floor(1e3*(e.ClickDoc||0)/(e.RViewDoc||1))/10+"%"},{key:"AddComment",name:"\u8bc4\u8bba",tooltip:"",value:Object(be["d"])(e.AddComment)||0},{key:"AddCommentRate",name:"\u8bc4\u8bba\u7387",tooltip:"(\u8bc4\u8bba/\u70b9\u51fb\u6570)",value:Math.floor(1e5*(e.AddComment||0)/(e.ClickDoc||1))/10+"%"},{key:"ShareDoc",name:"\u5206\u4eab",tooltip:"",value:Object(be["d"])(e.ShareDoc)||0},{key:"ShareRate",name:"\u5206\u4eab\u7387",tooltip:"(\u5206\u4eab/\u70b9\u51fb\u6570)",value:Math.floor(1e5*(e.ShareDoc||0)/(e.ClickDoc||1))/10+"%"},{key:"Like",name:"\u6536\u85cf",tooltip:"",value:Object(be["d"])(e.Like)||0},{key:"CollectRate",name:"\u6536\u85cf\u7387",tooltip:"(\u6536\u85cf/\u70b9\u51fb\u6570)",value:Math.floor(1e5*(e.Like||0)/(e.ClickDoc||1))/10+"%"},{key:"ThumbUp",name:"\u70b9\u8d5e",tooltip:"",value:Object(be["d"])(e.ThumbUp)||0},{key:"AvgDwell",name:"\u6b21\u5747\u65f6\u957f",tooltip:"(\u6b63\u6587\u9875\u505c\u7559\u603b\u65f6\u957f/\u70b9\u51fb\u6570)",value:Math.round(e.AvgDwell)||"0\u79d2"},{key:"Cntdwell",name:"\u505c\u7559\u6b21\u6570",tooltip:"",value:Object(be["d"])(e.Cntdwell)||0},{key:"AvgCntdwell",name:"\u6b21\u5747\u505c\u7559\u65f6\u957f",tooltip:"(\u6b63\u6587\u9875\u505c\u7559\u603b\u65f6\u957f/\u505c\u7559\u6b21\u6570)",value:Math.round(e.AvgCntdwell)||"0\u79d2"}]},[]),s=e=>l(e).slice(0,4).map(e=>e.tooltip?o.a.createElement(b["a"],{key:e.key,placement:"top",title:e.tooltip,style:{marginRight:8}},o.a.createElement("span",{style:{marginLeft:8}},"".concat(e.name,": ").concat(e.value))):o.a.createElement("span",{style:{marginLeft:8},key:e.key},"".concat(e.name,": ").concat(e.value))),u=e=>l(e).slice(4).map(e=>e.tooltip?o.a.createElement(b["a"],{key:e.key,placement:"top",title:e.tooltip,style:{marginRight:8}},o.a.createElement("span",{style:{marginLeft:8}},"".concat(e.name,": ").concat(e.value))):o.a.createElement("span",{key:e.key,style:{marginLeft:8}},"".concat(e.name,": ").concat(e.value)));return o.a.createElement("div",{className:"top-item-data"},c.data&&o.a.createElement(J["a"],{style:{marginBottom:8},align:"middle"},o.a.createElement("div",null,"\u6570\u636e\u7edf\u8ba1\u5468\u671f\u4e3a\u8fd17\u65e5\u6570\u636e\uff08\u542b\u4eca\u65e5\uff09"),o.a.createElement("div",{className:"showBtn",onClick:()=>{i(!r)}},r?"\u6536\u8d77":"\u5c55\u5f00","\u6570\u636e",r?o.a.createElement(ye["a"],{style:{marginLeft:5}}):o.a.createElement(ge["a"],{style:{marginLeft:5}}))),c.data&&c.data.app_all&&o.a.createElement(J["a"],{style:{marginBottom:8}},o.a.createElement(b["a"],{placement:"top",title:"\u5ba2\u6237\u7aef\u5185\u6587\u7ae0\u8868\u73b0\u6570\u636e"},"[app \u6574\u4f53]"),s(c.data.app_all)),c.data&&c.data.all&&o.a.createElement(J["a"],{style:{marginBottom:8}},o.a.createElement(b["a"],{placement:"top",title:"\u5305\u62ec\u5ba2\u6237\u7aef\u3001\u5927B\uff08\u56db\u5927\u6d4f\u89c8\u5668\uff1a\u534e\u4e3a\u3001\u5c0f\u7c73\u3001OPPO\u3001VIVO\uff09\u3001\u5c0fB(\u5176\u4ed6\u5c0f\u6d41\u91cf\u6d4f\u89c8\u5668\u53ca\u5408\u4f5c\u65b9\uff09\u7684\u6570\u636e"},"[\u6240\u6709\u5206\u53d1]"),s(c.data.all)),c.data&&c.data.app_channel&&o.a.createElement(J["a"],{style:{marginBottom:8}},o.a.createElement(b["a"],{placement:"top",title:"\u5ba2\u6237\u7aef\u4e2d\u5f53\u524d\u9891\u9053\u5185\u6587\u7ae0\u7684\u8868\u73b0\u6570\u636e"},"[app \u9891\u9053\u5185]"),s(c.data.app_channel)),r&&o.a.createElement(o.a.Fragment,null,c.data&&c.data.app_all&&o.a.createElement(J["a"],{style:{marginBottom:8}},o.a.createElement(b["a"],{placement:"top",title:"\u5ba2\u6237\u7aef\u5185\u6587\u7ae0\u8868\u73b0\u6570\u636e"},"[app \u6574\u4f53]"),u(c.data.app_all)),c.data&&c.data.all&&o.a.createElement(J["a"],{style:{marginBottom:8}},o.a.createElement(b["a"],{placement:"top",title:"\u5305\u62ec\u5ba2\u6237\u7aef\u3001\u5927B\uff08\u56db\u5927\u6d4f\u89c8\u5668\uff1a\u534e\u4e3a\u3001\u5c0f\u7c73\u3001OPPO\u3001VIVO\uff09\u3001\u5c0fB(\u5176\u4ed6\u5c0f\u6d41\u91cf\u6d4f\u89c8\u5668\u53ca\u5408\u4f5c\u65b9\uff09\u7684\u6570\u636e"},"[\u6240\u6709\u5206\u53d1]"),u(c.data.all)),c.data&&c.data.app_channel&&o.a.createElement(J["a"],{style:{marginBottom:8}},o.a.createElement(b["a"],{placement:"top",title:"\u5ba2\u6237\u7aef\u4e2d\u5f53\u524d\u9891\u9053\u5185\u6587\u7ae0\u7684\u8868\u73b0\u6570\u636e"},"[app \u9891\u9053\u5185]"),u(c.data.app_channel))))}),Ee=we,ke=(a("roLW"),a("TpwP"),a("7Kak"),a("9yH6")),xe=(a("Znn+"),a("ZTPi")),Le=a("LP4G"),Ne=a("H9Gg"),Oe=a("QWjs"),je=a("/6vs"),_e=a("S5jM");a("3PM8"),a("6wG5");function Ce(){Ce=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,a){return e[t]=a}}function l(e,t,a,r){var n=t&&t.prototype instanceof p?t:p,o=Object.create(n.prototype),i=new x(r||[]);return o._invoke=function(e,t,a){var r="suspendedStart";return function(n,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw o;return N()}for(a.method=n,a.arg=o;;){var i=a.delegate;if(i){var c=w(i,a);if(c){if(c===u)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var l=s(e,t,a);if("normal"===l.type){if(r=a.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(r="completed",a.method="throw",a.arg=l.arg)}}}(e,a,i),o}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function p(){}function d(){}function m(){}var h={};c(h,n,function(){return this});var f=Object.getPrototypeOf,v=f&&f(f(L([])));v&&v!==t&&a.call(v,n)&&(h=v);var y=m.prototype=p.prototype=Object.create(h);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){function r(n,o,i,c){var l=s(e[n],e,o);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==typeof p&&a.call(p,"__await")?t.resolve(p.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(p).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var n;this._invoke=function(e,a){function o(){return new t(function(t,n){r(e,a,t,n)})}return n=n?n.then(o,o):o()}}function w(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return d.prototype=m,c(y,"constructor",m),c(m,"constructor",d),d.displayName=c(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,o,function(){return this}),e.AsyncIterator=b,e.async=function(t,a,r,n,o){void 0===o&&(o=Promise);var i=new b(l(t,a,r,n),o);return e.isGeneratorFunction(a)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(y),c(y,i,"Generator"),c(y,n,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return i.type="throw",i.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=a.call(o,"catchLoc"),l=a.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),k(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;k(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:L(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var Se=xe["a"].TabPane,Te=ke["a"].Group,Ie=e=>{var t=e.itemData,a=e.index,i=e.closeModal,c=e.updateRecItem,l=Object(n["useRef"])(null),s=Object(n["useState"])(16/9),u=k()(s,2),p=u[0],d=u[1],h=Object(n["useState"])(0),f=k()(h,2),v=f[0],y=f[1],b=Object(n["useState"])(""),w=k()(b,2),E=w[0],x=w[1],L=Object(n["useState"])({}),N=k()(L,2),O=N[0],j=N[1],_=Object(n["useState"])({}),S=k()(_,2),T=S[0],I=S[1],D=Object(n["useState"])("tab1"),R=k()(D,2),A=R[0],B=R[1],z=Object(n["useState"])([]),P=k()(z,2),F=P[0],G=P[1],M=Object(n["useState"])([]),V=k()(M,2),U=V[0],K=V[1],J=Object(n["useState"])([]),H=k()(J,2),X=H[0],$=H[1],q=t,W=q.docid,Q=q.image_urls;Object(n["useEffect"])(()=>{Object(ve["b"])(W).then(e=>{var t={},a=m()({},O);e.images.forEach(e=>{a[e]=!1}),Q&&Q.forEach(e=>{t[e]=!1}),j(a),I(t),$(Q&&Q.slice(0)||[]);var r="http://i1.go2yd.com/image/".concat(Q&&Q[0]||e.images&&e.images[0]||"");x(r),e.images&&e.images.length>0?G(e.images&&e.images.slice(0)||[]):G([]),e.uploadImagesV&&e.uploadImagesV.length>0?K(e.uploadImagesV&&e.uploadImagesV.slice(0)||[]):K([])})},[]);var Z=e=>{var t=m()({},O);t[e]=!0,j(t)},ee=e=>{var t=m()({},O);t[e]=!1,j(t)},te=e=>{var t=m()({},T);t[e]=!0,I(t)},ae=e=>{var t=m()({},T);t[e]=!1,I(t)},re=e=>{var t="tab1"===A?X.slice(0):U.slice(0);t.length>2?r["b"].success("\u6700\u591a\u53ef\u4ee5\u6dfb\u52a0\u4e09\u5f20\u5c01\u9762\u56fe!"):t.push(e),"tab1"===A?$(t):K(t)},ne=e=>{x("https://i1.go2yd.com/image.php?url=".concat(e))},oe=(e,t,a,r)=>{var n=r.slice(0);n.splice(t,1),"tab1"===a?$(n):K(n)},ie=(e,t,a)=>{if(0!==e){var r=[...X],n=r[e-1];r[e-1]=r[e],r[e]=n,"tab1"===t?$(r):K(r)}},ce=(e,t,a)=>{if(e!==X.length){var r=[...X],n=r[e];r[e]=r[e+1],r[e+1]=n,"tab1"===t?$(r):K(r)}},le=function(){var e=Y()(Ce().mark(function e(t){var a;return Ce().wrap(function(e){while(1)switch(e.prev=e.next){case 0:a=t.target,setTimeout(Y()(Ce().mark(function e(){var t,r,n;return Ce().wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=new FormData,r=a.files[0],r){e.next=4;break}return e.abrupt("return");case 4:return t.append("file",r),e.next=7,Object(ve["u"])(t);case 7:n=e.sent,"success"===n.status&&x(n.data.url);case 9:case"end":return e.stop()}},e)})),0);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),se=e=>{var t={"3:2":1.5,"16:9":16/9,"2:1":2,"9:16":9/16},a=e.target.value||"16:9";d(t[a])};Object(n["useEffect"])(()=>{var e=null===l||void 0===l?void 0:l.current,t=null===e||void 0===e?void 0:e.cropper;"number"===typeof p&&t.setAspectRatio(p)},[p]);var ue=()=>{360===v?v=90:v+=90;var e=null===l||void 0===l?void 0:l.current,t=null===e||void 0===e?void 0:e.cropper;t.rotateTo(v),y(v)},pe=()=>{var e=document.querySelector("#upload-cropper-".concat(W));e.click()},de=function(){var e=Y()(Ce().mark(function e(){var t,a,n,o;return Ce().wrap(function(e){while(1)switch(e.prev=e.next){case 0:t="tab1"===A?X.slice(0):U.slice(0),t.length>2&&r["b"].success("\u6700\u591a\u53ef\u4ee5\u6dfb\u52a0\u4e09\u5f20\u5c01\u9762\u56fe!"),a=null===l||void 0===l?void 0:l.current,n=null===a||void 0===a?void 0:a.cropper,o=new FormData,n.getCroppedCanvas().toBlob(function(){var e=Y()(Ce().mark(function e(a){var r;return Ce().wrap(function(e){while(1)switch(e.prev=e.next){case 0:return o.append("file",a,"file_".concat(Date.now(),".jpg")),e.next=3,Object(ve["u"])(o);case 3:r=e.sent,"success"===r.status&&(t.push(r.data.image_id),"tab1"===A?$(t):K(t));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),me=()=>{var e=t.docid;Object(ve["t"])({docid:e}).then(()=>{X.length>0&&Object(ve["r"])({docid:e,imageUrls:X.map(e=>"https://i1.go2yd.com/image.php?url=".concat(e)).join(),covertype:"normal"})}),t=m()({},t,{image_urls:X}),c(a,t),i()},he=e=>{B(e)},fe=F.map((e,t)=>{return o.a.createElement("div",{className:"topimg img",key:e+t,style:{backgroundImage:'url("http://i1.go2yd.com/image.php?url='.concat(e,"&news_id=").concat(W,'&type=thumbnail_90x60")')},onMouseOver:()=>{Z(e)},onMouseLeave:()=>{ee(e)}},O[e]&&o.a.createElement("div",{className:"topimg-main"},o.a.createElement("div",{className:"one"}),o.a.createElement(Ne["a"],{onClick:()=>{re(e)},className:"icon"}),o.a.createElement(Oe["a"],{onClick:()=>{ne(e)},className:"icon"})))}),ye=(e,t)=>t&&t.slice(0,3).map((a,r)=>{return o.a.createElement("div",{key:a+r,className:"leftimg img",style:{backgroundImage:'url("http://i1.go2yd.com/image.php?url='.concat(a,"&news_id=").concat(W,'")')},onMouseOver:()=>{te(a)},onMouseLeave:()=>{ae(a)}},T[a]&&o.a.createElement("div",{className:"leftimg-main"},o.a.createElement("div",{className:"one"}),o.a.createElement(je["a"],{onClick:()=>{ie(r,e,t)},type:"arrow-up",className:"icon"}),o.a.createElement(_e["a"],{onClick:()=>{ce(r,e,t)},type:"arrow-down",className:"icon"}),o.a.createElement(Oe["a"],{onClick:()=>{ne(a)},type:"edit",className:"icon"}),o.a.createElement(C["a"],{onClick:()=>{oe(a,r,e,t)},type:"delete",className:"icon"})))});return o.a.createElement("div",{className:"surface"},o.a.createElement("div",{className:"text1"}," \u6587\u7ae0\u539f\u59cb\u56fe\u7247\u5217\u8868 "),o.a.createElement("div",{className:"initlist"},fe),o.a.createElement("div",{className:"left"},o.a.createElement("div",{className:"leftcontent"},o.a.createElement("div",{className:"leftcontent-text1"},"\u6587\u7ae0\u5c01\u9762\u56fe\u5217\u8868"),o.a.createElement(xe["a"],{type:"card",onChange:he},o.a.createElement(Se,{tab:"\u4e3b",key:"tab1"},o.a.createElement("div",{className:"tab"},ye("tab1",X))),o.a.createElement(Se,{tab:"\u526f",key:"tab2"},o.a.createElement("div",{className:"tab"},ye("tab2",U)))),o.a.createElement("div",{className:"leftcontent-text2"},"\u4e00\u5f20\u6216\u4e09\u5f20\u5c01\u9762\u56fe"))),o.a.createElement("div",{className:"right"},o.a.createElement("div",{className:"cropper-op"},o.a.createElement(Te,{onChange:se,name:"radiogroup",defaultValue:"16:9"},o.a.createElement(ke["a"],{value:"3:2"},"3:2"),o.a.createElement(ke["a"],{value:"16:9"},"16:9(\u5348\u62a5)"),o.a.createElement(ke["a"],{value:"2:1"},"2:1(\u5927\u56fe)"),o.a.createElement(ke["a"],{value:"9:16"},"9:16")),o.a.createElement(g["a"],{onClick:ue,size:"small",type:"primary"},"\u65cb\u8f6c")),o.a.createElement(Le["a"],{ref:l,style:{height:330,width:"100%"},aspectRatio:16/9,src:E||"",viewMode:1,crossOrigin:"anonymous"}),o.a.createElement("div",{style:{textAlign:"center",margin:"10px 0"}},o.a.createElement(g["a"],{onClick:pe,size:"small",type:"primary",style:{marginRight:20}},"\u4e0a\u4f20\u672c\u5730\u56fe\u7247"),o.a.createElement(g["a"],{onClick:de,size:"small",type:"primary"},"\u786e\u8ba4\u88c1\u526a"))),o.a.createElement("div",{className:"save"},o.a.createElement(g["a"],{onClick:me,size:"small",type:"primary"},"\u4fdd\u5b58")),o.a.createElement("input",{id:"upload-cropper-".concat(W),type:"file",name:"uploadimage",style:{display:"none"},onChange:le}))},De=e=>({updateRecItem:f.updateRecItem(e)}),Re=Object(c["c"])(null,De)(Ie);function Ae(){Ae=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,a){return e[t]=a}}function l(e,t,a,r){var n=t&&t.prototype instanceof p?t:p,o=Object.create(n.prototype),i=new x(r||[]);return o._invoke=function(e,t,a){var r="suspendedStart";return function(n,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw o;return N()}for(a.method=n,a.arg=o;;){var i=a.delegate;if(i){var c=w(i,a);if(c){if(c===u)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var l=s(e,t,a);if("normal"===l.type){if(r=a.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(r="completed",a.method="throw",a.arg=l.arg)}}}(e,a,i),o}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function p(){}function d(){}function m(){}var h={};c(h,n,function(){return this});var f=Object.getPrototypeOf,v=f&&f(f(L([])));v&&v!==t&&a.call(v,n)&&(h=v);var y=m.prototype=p.prototype=Object.create(h);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){function r(n,o,i,c){var l=s(e[n],e,o);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==typeof p&&a.call(p,"__await")?t.resolve(p.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(p).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var n;this._invoke=function(e,a){function o(){return new t(function(t,n){r(e,a,t,n)})}return n=n?n.then(o,o):o()}}function w(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return d.prototype=m,c(y,"constructor",m),c(m,"constructor",d),d.displayName=c(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,o,function(){return this}),e.AsyncIterator=b,e.async=function(t,a,r,n,o){void 0===o&&(o=Promise);var i=new b(l(t,a,r,n),o);return e.isGeneratorFunction(a)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(y),c(y,i,"Generator"),c(y,n,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return i.type="throw",i.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=a.call(o,"catchLoc"),l=a.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),k(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;k(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:L(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var Be=x["a"].Group,ze=g["a"].Group,Pe=Z["a"].Option,Fe={labelCol:{span:6},wrapperCol:{span:16}},Ge={wrapperCol:{offset:6,span:16}},Me={wrapperCol:{offset:1,span:22}},Ve=e=>{var t=e.key,a=e.doc,c=e.index,l=e.style,s=e.channelName,u=e.channelType,p=e.topList,d=e.todelList,h=e.categoryList,f=e.checkAll,v=e.showCheckAll,E=e.updateDellist,L=e.updateTopItem,N=e.updateTopList,O=e.updateCurrentTopItem,j=Object(n["useState"])(!1),_=k()(j,2),C=_[0],S=_[1],T=Object(n["useState"])(!1),I=k()(T,2),D=I[0],R=I[1],A=Object(n["useState"])({}),B=k()(A,2),z=B[0],P=(B[1],Object(n["useState"])(a.title_new||a.title)),F=k()(P,2),G=F[0],M=F[1],V=Object(n["useRef"])(null),U=Object(n["useState"])(!1),H=k()(U,2),X=H[0],$=H[1],q=Object(n["useState"])(!1),de=k()(q,2),me=de[0],he=de[1],fe=Object(n["useState"])([]),ye=k()(fe,2),ge=ye[0],be=ye[1],we=Object(n["useState"])([]),ke=k()(we,2),xe=ke[0],Le=ke[1],Ne=Object(n["useState"])([]),Oe=k()(Ne,2),je=Oe[0],_e=Oe[1],Ce=Object(n["useState"])(!1),Se=k()(Ce,2),Te=Se[0],Ie=Se[1],De=Object(i["m"])(),Ve=De.fromid,Ue=2===a.dtype;Object(n["useEffect"])(()=>{qe()},[xe]);var Ke=Object(n["useCallback"])(()=>Object.entries(le).map(e=>{var t=k()(e,2),a=t[0],r=t[1];return o.a.createElement(Pe,{key:a,value:a},r)}),[]),Je=Object(n["useCallback"])(()=>Object.entries(se).map(e=>{var t=k()(e,2),a=t[0],r=t[1];return o.a.createElement(Pe,{key:a,value:a},r)}),[]),He=Object(n["useCallback"])(()=>Object.entries(ue).map(e=>{var t=k()(e,2),a=t[0],r=t[1];return o.a.createElement(Pe,{key:a,value:a},r)}),[]),Ye=Object(n["useCallback"])(()=>Object.entries(pe).map(e=>{var t=k()(e,2),a=t[0],r=t[1];return o.a.createElement(Pe,{key:a,value:a},r)}),[]),Xe=Object(n["useCallback"])(()=>h.map(e=>o.a.createElement(Pe,{key:encodeURIComponent(e),value:e},e)),[h]),$e=Object(n["useCallback"])(()=>ge.map(e=>o.a.createElement(Pe,{key:encodeURIComponent(e),value:e},e)),[ge]),qe=()=>xe.map(e=>o.a.createElement(Q["a"],{span:6,key:e.channel_id},o.a.createElement(w["a"],{value:e.channel_id},e.channel_name))),We=e=>{e.preventDefault(),O(a)},Qe=()=>{var e=V.current.innerText,t=document.createElement("input");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("Copy"),t.className="oInput",t.style.display="none",document.body.removeChild(t),r["b"].info("\u590d\u5236\u6210\u529f")},Ze=e=>{var t=e.target.value||"";t&&(et(c,Number(t)-1),e.target.value="",e.target.blur())},et=(e,t)=>{if(e!==t){var a=[...p],r=a[e];a.splice(e,1),a.splice(t,0,r),N(a)}},tt=(e,t)=>{var r=m()({},a);switch(e){case"count":r[e]=parseInt(t.target.value)||0;break;case"group":r[e]=t.target.value||"";break;case"fromid":r[e]=t.target.value||"";break;default:break}L(c,r)},at=(e,t)=>{var r=m()({},a);r[e]=t.target.checked||!1,L(c,r)},rt=(e,t)=>{var r=m()({},a);r[e]=t,L(c,r)},nt=()=>{var e=m()({},a);e["title_new"]=G,L(c,e),S(!1)},ot=e=>{var t=m()({},a);e?delete t["dtype"]:t["dtype"]=2,L(c,t)},it=function(){var e=Y()(Ae().mark(function e(t){var a,n,o,i,c,l,u,p;return Ae().wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(ve["j"])({currentChannel:s});case 2:return a=e.sent,n=a.status,o=a.data,i=a.reason,"success"===n?Le(o):r["b"].error("\u83b7\u53d6\u4e0b\u5c5e\u5730\u533a\u5931\u8d25 ".concat(i)),e.next=9,Object(ve["k"])({fromid:Ve,docid:t});case 9:c=e.sent,l=c.status,u=c.data,p=c.reason,"success"===l?_e(u):r["b"].error("\u83b7\u53d6 ".concat(t," \u7684\u5386\u53f2\u540c\u6b65\u5730\u533a\u5931\u8d25 ").concat(p)),he(!0);case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ct=function(){var e=Y()(Ae().mark(function e(t,n){var o,i,c,l,s,u,p,d,m,h;return Ae().wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n.setSubmitting(!1),o=t.selectedLocation,i=lt(je,o),c=k()(i,2),l=c[0],s=c[1],u=[Object(ve["n"])({fromid:Ve,syncNewsDocid:a.docid,list:o}),Object(ve["s"])({syncChannelIds:l,cancelSyncChannelIds:s,syncNews:a})],e.next=6,Promise.all(u);case 6:p=e.sent,d=k()(p,2),m=d[0],h=d[1],"success"===m.status&&"success"===h.status?(r["b"].success("\u540c\u6b65\u6210\u529f"),he(!1)):r["b"].error("\u540c\u6b65\u5931\u8d25 ".concat(m.reason," ").concat(h.reason));case 11:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),lt=(e,t)=>{var a=t.filter(t=>-1===e.indexOf(t)),r=e.filter(e=>-1===t.indexOf(e));return[a,r]},st=Object(n["useCallback"])(function(){var e=Y()(Ae().mark(function e(t){var a,n,o,i,c,l,s,u;return Ae().wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!Array.isArray(t)){e.next=9;break}return a=t.map(e=>Object(ve["i"])({cate:e})),e.next=4,Promise.all(a);case 4:n=e.sent,o=n.map(e=>"success"===e.status).every(e=>!0===e),o?(i=[],n.map(e=>{i=i.concat(e.data)}),be(i)):r["b"].error("\u83b7\u53d6\u5c0f\u7c7b\u5931\u8d25\uff0c\u8bf7\u5237\u65b0\u91cd\u8bd5"),e.next=16;break;case 9:return e.next=11,Object(ve["i"])({cate:t});case 11:c=e.sent,l=c.status,s=c.data,u=c.reason,"success"===l?Array.isArray(s)?be(s):be([]):r["b"].error(u);case 16:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[]),ut=(e,t)=>{var a;t("subcat",[]),Array.isArray(e)&&e.length>2?(a=e.slice(1),r["b"].info("\u53ea\u652f\u6301\u5927\u7c7b\u9009\u62e9\u4e24\u4e2a")):a=e,st(a),t("cat",a)},pt=e=>{var t="";return e||(t="\u8bf7\u586b\u5199\u5927\u7c7b\uff08\u5fc5\u586b\u9879\uff09"),Array.isArray(e)&&e.length<=0&&(t="\u8bf7\u586b\u5199\u5927\u7c7b\uff08\u5fc5\u586b\u9879\uff09"),t},dt=()=>{R(!1)},mt=e=>{var t="";return e||(t="\u8bf7\u586b\u5199\u4f4d\u7f6e\uff08\u5fc5\u586b\u9879\uff09"),t},ht=()=>{return-1===location.hostname.indexOf("venus.int")?"/app/editor-push-news/push/editor?docid=":"http://venus.int.yidian-inc.com:5301/app/editor-push-news/push/editor?docid="},ft=(e,t)=>{t.setSubmitting(!1);var r=m()({},a);for(var n in e.editorEventLevel||delete r.editorEventLevel,e)r[n]=e[n],"editorEventLevel"===n&&e[n]&&(["eventL1","eventL2"].includes(e[n])?r.audience_type=1:delete r.audience_type);r.last_update_ts=+new Date,L(c,r),$(!1)},vt=()=>{var e=[...p];e.splice(c,1),N(e,()=>r["b"].success("\u6587\u7ae0\u5df2\u4ece\u7f6e\u9876\u5217\u8868\u5220\u9664\u6210\u529f\uff01"))},yt=e=>{var t=e.target.checked;t?(E([...d,a.docid]),Ie(t)):(E(d.filter(e=>e!==a.docid)),Ie(t))},gt=e=>{switch(!0){case"eventL3"===e:return"\u4e09\u7ea7\u70ed\u70b9";case"eventL2"===e:return"\u4e8c\u7ea7\u70ed\u70b9";case"eventL1"===e:return"\u4e00\u7ea7\u70ed\u70b9";default:return"\u672a\u8bbe\u7f6e\u70ed\u70b9"}};Object(n["useEffect"])(()=>{Ie(!!f)},[f]);var bt=e=>{return e&&e[0]?o.a.createElement("img",{src:"https://i1.go2yd.com/image.php?url=".concat(e[0],"&type=thumbnail_60x60")}):o.a.createElement("span",null)},wt=Object(n["useCallback"])(()=>{var e=a.firstAddTopTime||0;if(!e)return"";var t=(+new Date-e)/1e3,r=t/60/60;r=parseInt(r+"");var n=(t-60*r*60)/60;n=parseInt(n+"");var o="".concat(r,"\u5c0f\u65f6").concat(n,"\u5206\u949f");return o},[a.firstAddTopTime]);return o.a.createElement("div",{className:"top-item",key:t,style:l},o.a.createElement("div",{className:"top-item-left"},o.a.createElement("div",{className:"top-item-info"},o.a.createElement("div",{className:"top-item-info-detail"},o.a.createElement("div",{className:"top-item-info-detail-top"},o.a.createElement("div",{className:"top-item-info-detail-left"},v&&o.a.createElement(w["a"],{style:{marginRight:8},onChange:yt,checked:Te}),o.a.createElement("span",null,o.a.createElement("span",{style:{marginRight:8}},c+1),o.a.createElement("a",{href:"http://pandora.yidian-inc.com/article/".concat(a.docid,"?hl=1"),style:{marginRight:8},target:"ifr-article",onClick:We},a.title_new||a.title),o.a.createElement("span",{className:"top-item-info-detail-title-length"},a.title_new?a.title_new.length:a.title?a.title.length:0),o.a.createElement(ce["a"],{onClick:()=>S(!0)})),C&&o.a.createElement(o.a.Fragment,null,o.a.createElement(x["a"],{size:"small",defaultValue:G,onChange:e=>M(decodeURIComponent(encodeURIComponent(e.target.value).replace(/%E2%80%8B/g,""))||"")}),o.a.createElement(g["a"],{type:"primary",size:"small",onClick:nt},"\u4fee\u6539\u6807\u9898"))),o.a.createElement("div",{className:"top-item-info-detail-right"},bt(a.image_urls||(a.image?[a.image]:[])))),o.a.createElement(J["a"],{style:{marginBottom:8}},o.a.createElement(K["a"],{color:"red",style:{marginRight:8}},le[a.tag]||"\u70ed"),a.firstAddTopTime&&o.a.createElement("span",{className:"firstAddTopTime"},wt()),o.a.createElement(b["a"],{title:"\u70b9\u6211\u590d\u5236",placement:"bottom"},o.a.createElement("label",{ref:V,onClick:Qe,style:{marginRight:8}},a.docid)),o.a.createElement("label",{style:{marginRight:8}},a.source),o.a.createElement("label",{style:{marginRight:8}},a.date)))),o.a.createElement(Ee,{doc:a}),o.a.createElement("div",{className:"top-item-op"},o.a.createElement(J["a"],{style:{marginBottom:8}},o.a.createElement(Be,{compact:!0,style:{display:"inline-block"}},o.a.createElement(x["a"],{className:"top-item-op-input",size:"small",placeholder:"\u6392\u5e8f",onPressEnter:Ze}),o.a.createElement(x["a"],{className:"top-item-op-input",size:"small",defaultValue:a.count||"",onChange:e=>tt("count",e),placeholder:"\u5f3a\u7f6e\u9876"}),o.a.createElement(x["a"],{className:"top-item-op-input",size:"small",defaultValue:a.group||"",onChange:e=>tt("group",e),placeholder:"\u8f6e\u64ad"}),o.a.createElement(x["a"],{className:"top-item-op-input",size:"small",defaultValue:a.fromid||"",onChange:e=>tt("fromid",e),placeholder:"\u9891\u9053 id"}),o.a.createElement(Z["a"],{className:"top-item-op-select",size:"small",defaultValue:a.tag,onChange:e=>rt("tag",e),placeholder:"\u89d2\u6807"},Ke()))),o.a.createElement(J["a"],{style:{marginBottom:8}},o.a.createElement(ze,null,o.a.createElement(W["a"],{title:"\u786e\u5b9a\u8981\u4ece\u7f6e\u9876\u5217\u8868\u4e2d\u79fb\u9664\u5417\uff1f",onConfirm:vt,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"},o.a.createElement(g["a"],{size:"small"},"\u79fb\u9664\u7f6e\u9876")),Ue?o.a.createElement(g["a"],{size:"small",onClick:()=>ot(Ue),style:{background:"rgba(255, 153, 153, 1)"}},"\u53d6\u6d88\u5927\u56fe"):o.a.createElement(g["a"],{size:"small",onClick:()=>ot(Ue)},"\u8bbe\u5927\u56fe"),"local"===u&&o.a.createElement(g["a"],{size:"small",onClick:()=>it(a.docid)}," ","\u540c\u6b65"," "),"homepage"===Ve&&o.a.createElement(g["a"],{className:a.editorEventLevel&&"red",size:"small",type:"primary",onClick:()=>$(!0)},gt(a.editorEventLevel)),o.a.createElement(w["a"],{checked:a.feedback_forbidden||!1,onChange:e=>at("feedback_forbidden",e),style:{marginLeft:"16px"}},"\u7981\u6b62\u8d1f\u53cd\u9988"))),o.a.createElement(J["a"],{style:{marginBottom:8}},o.a.createElement(Z["a"],{className:"top-item-op-select-long",mode:"multiple",size:"small",defaultValue:a.block_appids||[],onChange:e=>rt("block_appids",e),placeholder:"\u8981\u5c4f\u853d\u7684 appId"},Je()),o.a.createElement(ze,null,a.docid&&o.a.createElement("div",null,o.a.createElement(g["a"],{type:"primary",size:"small",href:"http://pandora.yidian-inc.com/tools/newseditor?id=".concat(a.docid),target:"_blank"}," ","\u7f16\u8f91"," "),o.a.createElement(g["a"],{type:"primary",size:"small",href:"http://pandora.yidian-inc.com/tools/commentsoperate?docid=".concat(a.docid),target:"_blank"}," ","\u8bc4\u8bba"," "),o.a.createElement(g["a"],{type:"primary",size:"small",href:ht()+"".concat(a.docid),target:"_blank"}," ","PUSH"," ")))))),D&&o.a.createElement(y["a"],{visible:D,footer:null,onCancel:()=>R(!1),width:600},o.a.createElement(Re,{itemData:z,closeModal:dt,index:c})),o.a.createElement(y["a"],{title:"\u540c\u6b65\u65b0\u95fb\u5230\u4e0b\u5c5e\u5730\u533a",visible:me,onCancel:()=>he(!1),footer:null},o.a.createElement(ee["c"],{initialValues:{selectedLocation:je},onSubmit:(e,t)=>ct(e,t)},()=>o.a.createElement(te["a"],Object.assign({},Me),o.a.createElement(ae["a"],{name:"selectedLocation"},o.a.createElement(re["a"].Group,{name:"selectedLocation"},o.a.createElement(J["a"],null,qe()))),o.a.createElement(ae["a"],{name:"op"},o.a.createElement(ne["a"],null,"\u4fdd\u5b58"),o.a.createElement(oe["a"],{style:{marginLeft:"16px"}},"\u91cd\u7f6e"))))),o.a.createElement(y["a"],{title:"\u8bbe\u7f6e\u70ed\u70b9\u7b49\u7ea7",visible:X,onCancel:()=>$(!1),footer:null},o.a.createElement(ee["c"],{initialValues:{editorEventLevel:a.editorEventLevel||"",location:a.location||"",cat:a.cat||"",subcat:a.subcat||[]},onSubmit:(e,t)=>ft(e,t)},e=>{var t=e.values,a=e.setFieldValue,r=e.setValues;return o.a.createElement(te["a"],Object.assign({},Fe),o.a.createElement(ae["a"],{name:"editorEventLevel",label:"\u70ed\u70b9\u7b49\u7ea7"},o.a.createElement(ie["a"],{name:"editorEventLevel",placeholder:"\u8bf7\u9009\u62e9\u70ed\u70b9\u7b49\u7ea7",allowClear:!0},He())),["eventL1","eventL2"].includes(t.editorEventLevel)?o.a.createElement(ae["a"],{name:"location",label:"\u4f4d\u7f6e",validate:mt},o.a.createElement(ie["a"],{name:"location",placeholder:"\u8bf7\u9009\u62e9\u4f4d\u7f6e",allowClear:!0},Ye())):null,["eventL2"].includes(t.editorEventLevel)?o.a.createElement(o.a.Fragment,null,o.a.createElement(ae["a"],{name:"cat",label:"\u5927\u7c7b",validate:pt},o.a.createElement(ie["a"],{name:"cat",placeholder:"\u8bf7\u9009\u62e9\u5927\u7c7b",mode:"multiple",onChange:e=>ut(e,a),allowClear:!0},Xe())),o.a.createElement(ae["a"],{name:"subcat",label:"\u5c0f\u7c7b"},o.a.createElement(ie["a"],{name:"subcat",placeholder:"\u8bf7\u9009\u62e9\u5c0f\u7c7b\uff0c\u652f\u6301\u591a\u9009",mode:"multiple",allowClear:!0},$e()))):null,o.a.createElement(ae["a"],Object.assign({},Ge,{name:"op"}),o.a.createElement(ne["a"],null,"\u4fdd\u5b58"),o.a.createElement(g["a"],{style:{marginLeft:"16px"},onClick:()=>r({editorEventLevel:"",location:"",cat:"",subcat:[]})},"\u91cd\u7f6e")))})))},Ue=e=>({channelName:u.channelName(e),channelType:u.channelType(e),topList:u.topList(e),categoryList:u.categoryList(e)}),Ke=e=>({updateTopItem:f.updateTopItem(e),updateTopList:f.updateTopList(e),updateCurrentTopItem:f.updateCurrentTopItem(e)}),Je=Object(c["c"])(Ue,Ke)(Ve),He=(a("m1ku"),o.a.memo(e=>{var t=e.topList,a=void 0===t?[]:t,r=e.todelList,n=e.checkAll,i=e.showCheckAll,c=e.setTodelList;return o.a.createElement("div",null,a.map((e,t)=>o.a.createElement(Je,{key:e.docid,doc:e,index:t,style:{},todelList:r,checkAll:n,updateDellist:c,showCheckAll:i})))})),Ye=He,Xe={homepage:135,"19thBig":214,promotion:136,hotpolitic:272,t2433342:555,e2741221:666,hot:137},$e={homepage:"\u9996\u9875\u7f6e\u9876",promotion:"\u63a8\u5e7f\u4e13\u7528",t2433342:"\u7b2c\u4e94\u6761\u6307\u4ee4\u4f4d",e2741221:"\u7b2c\u516d\u6761\u70ed\u70b9\u4f4d"};function qe(){qe=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,a){return e[t]=a}}function l(e,t,a,r){var n=t&&t.prototype instanceof p?t:p,o=Object.create(n.prototype),i=new x(r||[]);return o._invoke=function(e,t,a){var r="suspendedStart";return function(n,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw o;return N()}for(a.method=n,a.arg=o;;){var i=a.delegate;if(i){var c=w(i,a);if(c){if(c===u)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var l=s(e,t,a);if("normal"===l.type){if(r=a.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(r="completed",a.method="throw",a.arg=l.arg)}}}(e,a,i),o}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function p(){}function d(){}function m(){}var h={};c(h,n,function(){return this});var f=Object.getPrototypeOf,v=f&&f(f(L([])));v&&v!==t&&a.call(v,n)&&(h=v);var y=m.prototype=p.prototype=Object.create(h);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){function r(n,o,i,c){var l=s(e[n],e,o);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==typeof p&&a.call(p,"__await")?t.resolve(p.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(p).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var n;this._invoke=function(e,a){function o(){return new t(function(t,n){r(e,a,t,n)})}return n=n?n.then(o,o):o()}}function w(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return d.prototype=m,c(y,"constructor",m),c(m,"constructor",d),d.displayName=c(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,o,function(){return this}),e.AsyncIterator=b,e.async=function(t,a,r,n,o){void 0===o&&(o=Promise);var i=new b(l(t,a,r,n),o);return e.isGeneratorFunction(a)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(y),c(y,i,"Generator"),c(y,n,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return i.type="throw",i.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=a.call(o,"catchLoc"),l=a.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),k(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;k(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:L(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var We=X["b"].Item,Qe=e=>{var t=e.auth,a=(e.channelType,e.topNews),c=e.operationLog,l=(e.preTopNews,e.lastTopNews),s=e.topList,u=e.topListMap,p=e.searchResult,d=e.mulitSearchResult,h=e.loading,f=e.search,b=e.mulitSearch,E=e.updateLoading,L=e.updateTopNews,N=e.updateTopList,O=e.saveTopNews,j=e.updateLastTopNews,_=Object(n["useState"])(""),C=k()(_,2),S=C[0],T=C[1],I=Object(n["useState"])(""),D=k()(I,2),R=D[0],A=D[1],B=Object(n["useState"])(""),z=k()(B,2),P=z[0],F=z[1],G=Object(n["useState"])(!1),M=k()(G,2),V=M[0],H=M[1],X=Object(n["useState"])(!1),$=k()(X,2),W=$[0],Q=$[1],Z=Object(n["useState"])([]),ee=k()(Z,2),te=ee[0],ae=ee[1],re=Object(n["useState"])(!1),ne=k()(re,2),oe=ne[0],ie=ne[1],ce=Object(n["useState"])(!1),le=k()(ce,2),se=le[0],ue=le[1],pe=Object(n["useState"])([]),de=k()(pe,2),me=de[0],he=de[1],fe=Object(n["useState"])(!1),ye=k()(fe,2),ge=ye[0],we=ye[1],Ee=Object(n["useState"])(!1),ke=k()(Ee,2),xe=ke[0],Le=ke[1],Ne=Object(n["useState"])(!1),Oe=k()(Ne,2),je=Oe[0],_e=Oe[1],Ce=Object(n["useState"])(!1),Se=k()(Ce,2),Te=Se[0],Ie=Se[1],De=Object(i["m"])(),Re=De.fromid,Ae=(Object(n["useCallback"])(()=>{},[s,te,oe,xe]),function(){var e=Y()(qe().mark(function e(){return qe().wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(S){e.next=4;break}return e.abrupt("return",r["b"].error("\u8bf7\u8f93\u5165\u6709\u6548\u7684 docid \u6216\u8005 url"));case 4:if(!(S.indexOf(",")>-1)){e.next=13;break}if(!(S.split(",").length>5)){e.next=8;break}return r["b"].warn("\u5355\u8bcd\u4e0d\u80fd\u8d85\u8fc75\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165"),e.abrupt("return");case 8:return e.next=10,b(S,Re,r["b"].success,r["b"].error);case 10:H(!0),e.next=16;break;case 13:return e.next=15,f(S,Re,r["b"].success,r["b"].error);case 15:H(!0);case 16:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()),Be=e=>{var t=e.target.value.trim();A(t)};Object(n["useEffect"])(()=>{if(R){if(Number(R)<=0||isNaN(Number(R)))return r["b"].error("\u8bf7\u8f93\u5165\u5927\u4e8e0\u7684\u6709\u6548\u7684\u6570\u5b57");var e=m()({},a);e.lifespan=Number(R),L(e,()=>r["b"].success("\u6210\u529f\u8bbe\u7f6e\u7f6e\u9876\u65f6\u95f4"))}},[P]),Object(n["useEffect"])(()=>{var e;F(null===(e=a.lifespan)||void 0===e?void 0:e.toString())},[a.lifespan]);var ze=()=>{var e=[...s];if(u[p.docid])r["b"].warning("\u6587\u7ae0\u5df2\u5b58\u5728\u5728\u7f6e\u9876\u5217\u8868\u4e2d\uff01");else{if(p.editorEventLevel="eventL3",p&&p.docid)e.unshift(p);else{if(!(d&&d.length>0))return void r["b"].warning("\u65e0\u6570\u636e\u65e0\u6cd5\u8fdb\u884c\u64cd\u4f5c\uff01");e=d.concat(e)}N(e,()=>r["b"].success("\u6587\u7ae0\u5df2\u52a0\u5165\u7f6e\u9876\u5217\u8868\uff01")),H(!1)}},Pe=function(){var e=Y()(qe().mark(function e(n){var o,i,s,u,p,d,m,h,f,v,y,g,b,w,k,x;return qe().wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!Xe[Re]){e.next=4;break}if(t.includes(Xe[Re])){e.next=4;break}return r["b"].warn("\u6ca1\u6709\u8be5\u9891\u9053\u7684\u4fdd\u5b58\u6743\u9650\uff0c\u8bf7\u7533\u8bf7\u5bf9\u5e94\u6743\u9650"),e.abrupt("return",!1);case 4:if(_e(!0),E(!0),i=["homepage","promotion","t2433342","e2741221"],s={},n||!i.includes(Re)){e.next=13;break}return e.delegateYield(qe().mark(function e(){var t,r,n,o,c,l,u,p,d,m,h,f,v,y;return qe().wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(ve["l"])({fromid:"homepage"});case 2:return t=e.sent,e.next=5,Object(ve["l"])({fromid:"promotion"});case 5:return r=e.sent,e.next=8,Object(ve["l"])({fromid:"t2433342"});case 8:return n=e.sent,e.next=11,Object(ve["l"])({fromid:"e2741221"});case 11:o=e.sent,c=t.data["top_news"].map(e=>{return e["docid"]}),l=r.data["top_news"].map(e=>{return e["docid"]}),u=n.data["top_news"].map(e=>{return e["docid"]}),p=o.data["top_news"].map(e=>{return e["docid"]}),s["homepage"]=c,s["promotion"]=l,s["t2433342"]=u,s["e2741221"]=p,d=i.indexOf(Re),i.splice(d,1),m=a["top_news"].map(e=>{return e["docid"]}),h=[],f=function(e){var t=m[e];if(i.forEach(e=>{var a=s[e];a.includes(t)&&h.push({docId:t,channelFromId:e})}),h.length)return console.log(h),he(h),we(!0),{v:{v:!1}}},v=0;case 26:if(!(v<m.length)){e.next=33;break}if(y=f(v),"object"!==typeof y){e.next=30;break}return e.abrupt("return",y.v);case 30:v++,e.next=26;break;case 33:case"end":return e.stop()}},e)})(),"t0",10);case 10:if(u=e.t0,"object"!==typeof u){e.next=13;break}return e.abrupt("return",u.v);case 13:return n&&we(!1),p=l.top_news,d=a.top_news,m=d.map(e=>e.docid),console.log(p,"preData"),console.log(c,"operationLog"),h=Object(be["b"])(p,c),console.log(h,"sendLogList"),f=new Map,p.forEach(e=>{f.set(e.docid,e)}),v=[],d.forEach(e=>{var t=f.get(e.docid);t?(t.cat||[]).toString()===(e.cat||[]).toString()&&t.editorEventLevel===e.editorEventLevel&&t.location===e.location&&(t.subcat||[]).toString()===(e.subcat||[]).toString()||v.push({docid:t.docid,type:"modify",source:{editorEventLevel:t.editorEventLevel,location:t.location,cat:t.cat,subcat:t.subcat},dest:{editorEventLevel:e.editorEventLevel,location:e.location,cat:e.cat,subcat:e.subcat}}):e.editorEventLevel&&v.push({docid:e.docid,type:"add",source:{editorEventLevel:"",location:"",cat:[],subcat:[]},dest:{editorEventLevel:e.editorEventLevel,location:e.location,cat:e.cat,subcat:e.subcat}})}),v.length>0&&(y=location.href.split("/"),g=y[y.length-1],b=v.map(e=>e.docid),Object(be["g"])({detail:v,docidList:b,actionMethod:"hotEventOperations",channelid:g})),w=JSON.parse(JSON.stringify(a)),null===(o=w.top_news)||void 0===o||o.forEach(e=>{e["firstAddTopTime"]||(e["firstAddTopTime"]=+new Date)}),e.next=30,O(w,()=>{_e(!1),E(!1),r["b"].success("\u4fdd\u5b58\u6210\u529f")},e=>{_e(!1),E(!1),r["b"].error("\u4fdd\u5b58\u5931\u8d25 ".concat(e))},c);case 30:return k=location.href.split("/"),x=k[k.length-1],Object(be["g"])({detail:h,docidList:m,actionMethod:"saveTopNews",channelid:x}),e.next=35,j(w,()=>{_e(!1),E(!1),r["b"].success("\u4fdd\u5b58\u6210\u529f")},e=>{_e(!1),E(!1),r["b"].error("\u4fdd\u5b58\u5931\u8d25 ".concat(e))});case 35:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Fe=()=>{var e=s.filter(e=>!1===te.includes(e.docid));N(e)},Ge=e=>{var t=e.target.checked;if(ie(t),Boolean(t)){var a=[];s.map(e=>{a.push(e.docid)}),ae(a),ue(!0),ie(!0)}else ae([]),ue(!1),ie(!1)};Object(n["useEffect"])(()=>{return()=>{ae([]),A("")}},[Re]),Object(n["useEffect"])(()=>{te.length===s.length&&s.length>0&&te.length>0?(ue(!1),ie(!0)):s.length>0&&te.length>0?ue(!0):(ie(!1),ue(!1))},[te]),Object(n["useEffect"])(()=>{Me()},[]);var Me=function(){var e=Y()(qe().mark(function e(){var t,a,r,n;return qe().wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.a.get("/api/proxy/http://apollo-configcenter.ha.in.yidian.com:8108/configfiles/json/2022-0921-0946-yyl/default/application");case 3:t=e.sent,a=t.data,a["isOpenDisableStatus"]&&(r=JSON.parse(a["isOpenDisableStatus"]),n=r["status"],"on"===n&&Ie(!0)),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),Ve=()=>{r["b"].warning("\u7279\u6b8a\u60c5\u51b5\uff0c\u6682\u65f6\u65e0\u6cd5\u4fdd\u5b58\uff0c\u6709\u95ee\u9898\u8bf7\u8054\u7cfb \u95eb\u4e9a\u9f99\u3001\u5f20\u8212")};return o.a.createElement("div",{className:"main-toplist"},o.a.createElement(v["a"],{style:{margin:"8px 0 5px"}},"\u7f6e\u9876\u5185\u5bb9"),o.a.createElement("div",{className:"main-toplist-content"},o.a.createElement(J["a"],{className:"main-toplist-header"},o.a.createElement(x["a"],{size:"small",placeholder:"docid",style:{width:220},value:S,onChange:e=>T(e.target.value.trim()),onPressEnter:Ae}),o.a.createElement(g["a"],{type:"primary",size:"small",onClick:Ae},"\u6dfb\u52a0\u5185\u5bb9")),o.a.createElement(J["a"],{className:"main-toplist-header"},o.a.createElement("span",{style:{color:"#f00"}},"*"),"\u591a\u4e2adocid \u95f4\u4ee5 \u201c,\u201d \u95f4\u9694,\u5982A,B,C"),o.a.createElement(J["a"],{className:"main-toplist-header"},o.a.createElement(K["a"],{style:{fontSize:"16px",lineHeight:"22px"}},P),o.a.createElement(g["a"],{type:"primary",size:"small",style:{marginLeft:6},onClick:()=>{Q(!0)},disabled:!t.includes(199)},"\u8bbe\u7f6e\u7f6e\u9876\u6709\u6548\u671f(\u5c0f\u65f6)")),o.a.createElement(J["a"],{className:"main-toplist-header"},xe&&o.a.createElement(w["a"],{onChange:Ge,checked:oe,indeterminate:se},"\u5168\u9009"),o.a.createElement(g["a"],{size:"small",onClick:()=>{xe?Fe():Le(!0)}},xe?"\u6279\u91cf\u5220\u9664":"\u9009\u62e9\u6279\u91cf\u5220\u9664"),xe&&o.a.createElement(g["a"],{size:"small",onClick:()=>{Le(!1)}},"\u53d6\u6d88\u6279\u91cf\u5220\u9664")),o.a.createElement("div",{className:"main-toplist-body"},Boolean(je)?o.a.createElement("div",null,o.a.createElement("div",{className:"full"},o.a.createElement("div",{className:"loadingBg"}),o.a.createElement(U["a"],{spinning:h,tip:"\u4fdd\u5b58\u4e2d..."})),o.a.createElement(Ye,{topList:s,todelList:te,checkAll:oe,showCheckAll:xe,setTodelList:ae})):o.a.createElement(U["a"],{spinning:h,tip:"\u52a0\u8f7d\u4e2d..."}," ",o.a.createElement(Ye,{topList:s,todelList:te,checkAll:oe,showCheckAll:xe,setTodelList:ae})))),o.a.createElement("div",{className:"save"},Te?o.a.createElement(g["a"],{size:"small",onClick:Ve},"\u4fdd\u5b58"):o.a.createElement(g["a"],{size:"small",type:"primary",onClick:()=>{Pe()}},"\u4fdd\u5b58")),o.a.createElement(y["a"],{visible:V,title:"\u662f\u5426\u6dfb\u52a0\u5230\u7f6e\u9876\u6d41\uff1f",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:ze,onCancel:()=>H(!1)},Ze(p,d)),o.a.createElement(y["a"],{visible:ge,title:"\u91cd\u590d\u63d0\u9192!",okText:"\u7ee7\u7eed\u4fdd\u5b58",cancelText:"\u8fd4\u56de\u4fee\u6539",onOk:()=>{Pe(!0)},onCancel:()=>we(!1)},o.a.createElement("div",{className:"repeatDocIdCtn"},"\u4ee5\u4e0b\u6587\u7ae0\u5728",me.map(e=>{return"\u3010".concat($e[e["channelFromId"]],"\u3011")}),"\u91cd\u590d\u7f6e\u9876\uff0c\u8bf7\u786e\u8ba4!"),me.map((e,t)=>{return o.a.createElement("div",{className:"repeatDocIdCtn",key:t},o.a.createElement("div",null,"docId: ",e["docId"]),o.a.createElement("div",null,"\u91cd\u590d\u5bf9\u5e94\u9891\u9053: ",$e[e["channelFromId"]]))})),o.a.createElement(y["a"],{visible:W,title:"\u8bf7\u8f93\u5165\u9700\u8981\u8bbe\u7f6e\u7684\u7f6e\u9876\u65f6\u95f4",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:()=>{if(!R||Number(R)<=0||isNaN(Number(R)))return r["b"].error("\u8bf7\u8f93\u5165\u5927\u4e8e0\u7684\u6709\u6548\u7684\u6570\u5b57");F(R),Q(!1)},onCancel:()=>{Q(!1)}},o.a.createElement(x["a"],{size:"small",style:{width:80},onChange:Be}),o.a.createElement("span",{style:{marginLeft:"20px"}},"\u5355\u4f4d\uff08\u5c0f\u65f6\uff09")))},Ze=(e,t)=>{return t&&t.length>1?o.a.createElement("div",null,o.a.createElement("div",null,"\u641c\u7d22\u7ed3\u679c"),t.map((e,t)=>{return o.a.createElement(X["b"],{key:e.docid},o.a.createElement(We,{label:t+1+".docid",span:3},e.docid),o.a.createElement(We,{label:"\u6807\u9898",span:3},o.a.createElement("a",{href:"http://www.yidianzixun.com/article/".concat(e.docid),target:"_blank"},e.title)),o.a.createElement(We,{label:"",span:3},o.a.createElement("div",{style:{background:"#eeeeee",padding:"5px 10px"}},e&&o.a.createElement(Ee,{doc:e}))))})):e&&e.docid?o.a.createElement("div",null,o.a.createElement(X["b"],{title:"\u641c\u7d22\u7ed3\u679c"},o.a.createElement(We,{label:"docid",span:3},e.docid),o.a.createElement(We,{label:"\u6807\u9898",span:3},o.a.createElement("a",{href:"http://www.yidianzixun.com/article/".concat(e.docid),target:"_blank"},e.title))),o.a.createElement(We,{label:"",span:3},o.a.createElement("div",{style:{background:"#eeeeee",padding:"5px 10px"}},e&&o.a.createElement(Ee,{doc:e,key:e.docid})))):o.a.createElement("div",{className:"center"},o.a.createElement(U["a"],{tip:"\u52a0\u8f7d\u4e2d..."}))},et=e=>({auth:l.auth(e),channelType:u.channelType(e),topNews:u.topNews(e),operationLog:u.operationLog(e),preTopNews:u.preTopNews(e),lastTopNews:u.lastTopNews(e),loading:u.loading(e),topList:u.topList(e),topListMap:u.topListMap(e),searchResult:u.searchResult(e),mulitSearchResult:u.mulitSearchResult(e)}),tt=e=>({search:f.search(e),mulitSearch:f.mulitSearch(e),updateTopNews:f.updateTopNews(e),updateTopItem:f.updateTopItem(e),updateLoading:f.updateLoading(e),updateTopList:f.updateTopList(e),saveTopNews:f.saveTopNews(e),updateLastTopNews:f.updateLastTopNews(e)}),at=Object(c["c"])(et,tt)(Qe),rt=(a("XmyN"),xe["a"].TabPane,e=>{var t=e.doc;Object(n["useCallback"])(e=>{return[{key:"ViewDoc",name:"\u5206\u53d1",tooltip:"(\u540e\u7aef\u66dd\u5149,\u5305\u62ec\u6d4f\u89c8\u5668-3\u5c4f)",value:Object(be["d"])(e.ViewDoc)||0},{key:"RViewDoc",name:"\u5b9e\u9645\u66dd\u5149",tooltip:"(\u524d\u7aef\u66dd\u5149)",value:Object(be["d"])(e.RViewDoc)||0},{key:"ClickDoc",name:"\u70b9\u51fb",tooltip:"",value:Object(be["d"])(e.ClickDoc)||0},{key:"",name:"\u70b9\u51fb\u7387",tooltip:"(\u70b9\u51fb/\u5b9e\u9645\u66dd\u5149)",value:Math.floor(1e3*(e.ClickDoc||0)/(e.RViewDoc||1))/10+"%"},{key:"AddComment",name:"\u8bc4\u8bba",tooltip:"",value:Object(be["d"])(e.AddComment)||0},{key:"",name:"\u8bc4\u8bba\u7387",tooltip:"(\u8bc4\u8bba/\u70b9\u51fb\u6570)",value:Math.floor(1e5*(e.AddComment||0)/(e.ClickDoc||1))/10+"\u2031"},{key:"ShareDoc",name:"\u5206\u4eab",tooltip:"",value:Object(be["d"])(e.ShareDoc)||0},{key:"",name:"\u5206\u4eab\u7387",tooltip:"(\u5206\u4eab/\u70b9\u51fb\u6570)",value:Math.floor(1e5*(e.ShareDoc||0)/(e.ClickDoc||1))/10+"\u2031"},{key:"Like",name:"\u6536\u85cf",tooltip:"",value:Object(be["d"])(e.Like)||0},{key:"",name:"\u6536\u85cf\u7387",tooltip:"(\u6536\u85cf/\u70b9\u51fb\u6570)",value:Math.floor(1e5*(e.Like||0)/(e.ClickDoc||1))/10+"\u2031"},{key:"ThumbUp",name:"\u70b9\u8d5e",tooltip:"",value:Object(be["d"])(e.ThumbUp)||0},{key:"AvgDwell",name:"\u6b21\u5747\u65f6\u957f",tooltip:"(\u6b63\u6587\u9875\u505c\u7559\u603b\u65f6\u957f/\u70b9\u51fb\u6570)",value:Math.round(e.AvgDwell)||"0\u79d2"},{key:"Cntdwell",name:"\u505c\u7559\u6b21\u6570",tooltip:"",value:Object(be["d"])(e.Cntdwell)||0},{key:"AvgCntdwell",name:"\u6b21\u5747\u505c\u7559\u65f6\u957f",tooltip:"(\u6b63\u6587\u9875\u505c\u7559\u603b\u65f6\u957f/\u505c\u7559\u6b21\u6570)",value:Math.round(e.AvgCntdwell)||"0\u79d2"},{key:"Duration",name:"\u89c6\u9891\u672c\u8eab\u65f6\u957f",tooltip:"",value:e.Duration+"\u79d2"}]},[]);return o.a.createElement("div",{className:"main-preview"},o.a.createElement("div",{className:"iframeshow"},o.a.createElement("iframe",{title:"doc preview iframe",id:"ifr-article",allowFullScreen:!0,src:t.docid?"http://pandora.yidian-inc.com/article/".concat(t.docid):""})))}),nt=e=>({doc:u.currentTopItem(e)}),ot=Object(c["c"])(nt,null)(rt),it=a("29vH");function ct(){ct=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,a){return e[t]=a}}function l(e,t,a,r){var n=t&&t.prototype instanceof p?t:p,o=Object.create(n.prototype),i=new x(r||[]);return o._invoke=function(e,t,a){var r="suspendedStart";return function(n,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw o;return N()}for(a.method=n,a.arg=o;;){var i=a.delegate;if(i){var c=w(i,a);if(c){if(c===u)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var l=s(e,t,a);if("normal"===l.type){if(r=a.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(r="completed",a.method="throw",a.arg=l.arg)}}}(e,a,i),o}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function p(){}function d(){}function m(){}var h={};c(h,n,function(){return this});var f=Object.getPrototypeOf,v=f&&f(f(L([])));v&&v!==t&&a.call(v,n)&&(h=v);var y=m.prototype=p.prototype=Object.create(h);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){function r(n,o,i,c){var l=s(e[n],e,o);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==typeof p&&a.call(p,"__await")?t.resolve(p.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(p).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(l.arg)}var n;this._invoke=function(e,a){function o(){return new t(function(t,n){r(e,a,t,n)})}return n=n?n.then(o,o):o()}}function w(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return d.prototype=m,c(y,"constructor",m),c(m,"constructor",d),d.displayName=c(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,o,function(){return this}),e.AsyncIterator=b,e.async=function(t,a,r,n,o){void 0===o&&(o=Promise);var i=new b(l(t,a,r,n),o);return e.isGeneratorFunction(a)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(y),c(y,i,"Generator"),c(y,n,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return i.type="throw",i.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=a.call(o,"catchLoc"),l=a.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),k(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;k(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:L(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var lt=e=>{var t=e.imageUrls,a=e.image,i=e.docid,c=e.index,l=e.updateTopItem,s=e.doc,u=Object(n["useState"])({}),p=k()(u,2),d=p[0],h=p[1],f=Object(n["useState"])(!1),v=k()(f,2),g=v[0],b=v[1],w=Object(n["useState"])(""),E=k()(w,2),x=E[0],L=E[1],N=Object(n["useState"])([]),O=k()(N,2),j=O[0],_=O[1],S=Object(n["useState"])(-1),T=k()(S,2),I=T[0],D=T[1],R=Object(n["useState"])([]),A=k()(R,2),B=A[0],z=A[1];Object(n["useEffect"])(()=>{_(t||[])},[t]);var P=()=>{var e=(t&&t||(a?[a]:[])).map((e,t)=>({url:"https://i1.go2yd.com/image.php?url=".concat(e,"&type=thumbnail_90x60"),thumbUrl:"https://i1.go2yd.com/image.php?url=".concat(e),uid:i,name:e}))||[];return e};Object(n["useEffect"])(()=>{z(P())},[t,a,i]);var F=e=>{var t=m()({},d);t[e]=!0,h(t)},G=e=>{var t=m()({},d);t[e]=!1,h(t)},M=()=>{b(!1)},V=e=>{b(!0),L(e)},U=e=>{D(e);var t=document.querySelector("#upload-input-".concat(i));t.click()},K=o.a.createElement("div",{onClick:()=>{U(-1)},style:{position:"relative",width:90,height:60,border:"1px dashed #129aee",textAlign:"center",cursor:"pointer",paddingTop:"7px",marginTop:"5px",marginRight:"10px"}},o.a.createElement(it["a"],null),o.a.createElement("div",{className:"ant-upload-text"},"Upload")),J=function(){var e=Y()(ct().mark(function e(t){var a;return ct().wrap(function(e){while(1)switch(e.prev=e.next){case 0:a=t.target,setTimeout(Y()(ct().mark(function e(){var t,n,o,u,p;return ct().wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=new FormData,n=a.files[0],n){e.next=4;break}return e.abrupt("return");case 4:return t.append("file",n),e.next=7,Object(ve["u"])(t);case 7:o=e.sent,"success"===o.status&&(u={url:"https://i1.go2yd.com/image.php?url=".concat(o.data.image_id,"&type=thumbnail_90x60"),thumbUrl:o.data.url,name:o.data.url},-1===I?(j.push(o.data.url),B.push(u)):(B.splice(I,1,u),j.splice(I,1,o.data.url)),z(B.slice(0)),_(j),Object(ve["t"])({docid:i}),0===j.length||1===j.length||3===j.length?Object(ve["r"])({docid:i,imageUrls:j.join(),covertype:"normal"}).then(e=>{r["b"].success("\u5c01\u9762\u56fe\u66f4\u65b0\u6210\u529f\uff01")}):r["b"].info("\u6587\u7ae0\u5c01\u9762\u56fe\u53ea\u80fd\u4e3a\u65e0\u56fe\u3001\u5355\u56fe\u6216\u4e09\u56fe"),p=m()({},s),p=m()({},s,{image_urls:j}),l(c,p));case 9:case"end":return e.stop()}},e)})),0);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Y()(ct().mark(function e(t){var a,n,o,u;return ct().wrap(function(e){while(1)switch(e.prev=e.next){case 0:a=t.name,n=B.filter(e=>{return e.name!==t.name}),o=j.indexOf(a),o>=0&&j.splice(o,1),_([...j]),z([...n]),Object(ve["t"])({docid:i}),0===j.length||1===j.length||3===j.length?Object(ve["r"])({docid:i,imageUrls:j.join(),covertype:"normal"}).then(e=>{r["b"].success("\u5c01\u9762\u56fe\u66f4\u65b0\u6210\u529f\uff01")}):r["b"].info("\u6587\u7ae0\u5c01\u9762\u56fe\u53ea\u80fd\u4e3a\u65e0\u56fe\u3001\u5355\u56fe\u6216\u4e09\u56fe"),u=m()({},s),u=m()({},s,{image_urls:j}),l(c,u);case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),X=P().slice(0,3).map((e,t)=>{return o.a.createElement("div",{key:e.name,className:"img-item",style:{backgroundImage:'url("'.concat(e.url,'")'),lineHeight:"60px",textAlign:"center",color:"#fff",fontSize:"16px",position:"relative",width:90,height:60,marginRight:"10px",marginTop:"5px"},onMouseOver:()=>{F(t)},onMouseLeave:()=>{G(t)}},d[t]?o.a.createElement("div",null,o.a.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, .5)"}}),o.a.createElement(Ne["a"],{onClick:()=>{V(e.thumbUrl)},style:{position:"relative",marginRight:"5px",cursor:"pointer"}}),o.a.createElement(C["a"],{onClick:()=>{H(e)},style:{position:"relative",marginRight:"5px",cursor:"pointer"}}),o.a.createElement("span",{style:{position:"relative",cursor:"pointer"}},o.a.createElement(Oe["a"],{onClick:()=>{U(t)},style:{position:"relative",marginRight:"5px",cursor:"pointer"}}))):"")});return o.a.createElement("div",{className:"image-info",style:{marginBottom:"10px"}},o.a.createElement("div",{className:"covers",style:{marginTop:"5px",overflow:"hidden",flexWrap:"wrap",display:"flex"}},X,P().length>=3?null:K),o.a.createElement(y["a"],{visible:g,footer:null,onCancel:M},o.a.createElement("img",{alt:"example",style:{width:"90%"},src:x})),o.a.createElement("input",{id:"upload-input-".concat(i),type:"file",name:"uploadimage",style:{display:"none"},onChange:J}))},st=e=>({updateTopItem:f.updateRecItem(e)}),ut=Object(c["c"])(null,st)(lt),pt=a("QmBg"),dt=(a("n9/l"),o.a.createElement(pt["a"],{style:{fontSize:24},spin:!0})),mt=g["a"].Group,ht=X["b"].Item,ft=e=>{var t=e.recItem,a=(e.recList,e.loadingDoc),c=e.index,l=(e.docid,e.topList),s=e.updateCurrentTopItem,u=e.updateTopList,p=(e.updateRecList,e.getData),d=e.delNewsbyDocid,h=e.deleteItem,f=Object(i["m"])(),v=f.fromid,w=Object(n["useRef"])(null),E=Object(n["useState"])(!1),x=k()(E,2),L=x[0],N=x[1],O=Object(n["useState"])(!1),j=k()(O,2),_=j[0],C=j[1],S=Object(n["useState"])(!1),T=k()(S,2),I=T[0],D=T[1],R=Object(n["useState"])(!1),A=k()(R,2),B=A[0],z=A[1],P=Object(n["useState"])({}),F=k()(P,2),G=(F[0],F[1],Object(n["useState"])(!1)),M=k()(G,2),V=(M[0],M[1],Object(n["useState"])("")),H=k()(V,2),Y=(H[0],H[1],Object(n["useState"])([])),$=k()(Y,2),q=($[0],$[1],Object(n["useState"])(-1)),Q=k()(q,2),Z=(Q[0],Q[1],Object(n["useState"])([])),ee=k()(Z,2),te=(ee[0],ee[1],()=>{var e=w.current.innerText,t=document.createElement("input");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("Copy"),t.className="oInput",t.style.display="none",document.body.removeChild(t),r["b"].info("\u590d\u5236\u6210\u529f")}),ae=()=>{return-1===location.hostname.indexOf("venus.int")?"/app/editor-push-news/push/editor?docid=":"http://venus.int.yidian-inc.com:5301/app/editor-push-news/push/editor?docid="},re=e=>{e.preventDefault(),s(t)},ne=()=>{var e=[...l],a=e.map(e=>e.docid).indexOf(t.docid);if(a>=0)r["b"].warning("\u6587\u7ae0\u5df2\u5b58\u5728\u5728\u7f6e\u9876\u5217\u8868\u4e2d\uff01");else{var n=m()({},t);n.editorEventLevel="eventL3";var o=Object(be["c"])(n);e.unshift(o),u(e,()=>r["b"].success("\u6587\u7ae0\u5df2\u52a0\u5165\u7f6e\u9876\u5217\u8868\uff01")),N(!1)}},oe=()=>{C(!1),p({fromid:v,recItem:t})},ie=e=>{d({fromid:v,recItem:t});D(!1),h(t)},ce=()=>{z(!B),p({fromid:v,recItem:t})};return o.a.createElement("div",{className:"rec-item"},o.a.createElement("div",{className:"rec-item-left"},o.a.createElement("div",{className:"rec-item-info"},o.a.createElement("div",{className:"rec-item-info-detail"},o.a.createElement(J["a"],{style:{marginBottom:8}},o.a.createElement("span",null,o.a.createElement("span",{style:{marginRight:8}},c+1),o.a.createElement("a",{href:"http://pandora.yidian-inc.com/article/".concat(t.docid,"?hl=1"),style:{marginRight:8},target:"ifr-article",onClick:re},t.title_new||t.title))),t.docid,o.a.createElement("div",{className:"rec-img"},o.a.createElement(ut,{image:t.image,imageUrls:t.image_urls||(t.image?[doc.image]:[]),docid:t.docid,index:c,doc:t})),o.a.createElement(J["a"],{style:{marginBottom:8}},o.a.createElement("div",null,"joke"===t.ctype?o.a.createElement("div",{className:"joke-tag"}):"",t.ctype&&o.a.createElement(K["a"],{color:"red",className:"ctype"},t.ctype),t.props&&t.props.bait&&o.a.createElement(K["a"],{color:"blue",className:"prop",title:"\u6807\u9898\u515a"},"\u6807"),t.props&&t.props.dirty&&o.a.createElement(K["a"],{color:"blue",className:"prop",title:"\u4f4e\u4fd7"},"\u4fd7"),t.props&&t.props.sick&&o.a.createElement(K["a"],{color:"blue",className:"prop",title:"\u91cd\u53e3\u5473"},"\u91cd"),t.props&&t.props.imgs_porny&&o.a.createElement(K["a"],{color:"blue",className:"prop",title:"\u8272\u60c5\u56fe"},"\u8272\u60c5\u56fe"),t.props&&t.props.imgs_sexy&&o.a.createElement(K["a"],{color:"blue",className:"prop",title:"\u6027\u611f\u56fe"},"\u6027\u611f\u56fe"),t.props&&t.props.imgs_female_sexy&&o.a.createElement(K["a"],{color:"blue",className:"prop",title:"\u5973\u6027\u6027\u611f\u56fe"},"\u5973\u6027\u6027\u611f\u56fe"),t.props&&t.props.imgs_male_sexy&&o.a.createElement(K["a"],{color:"blue",className:"prop",title:"\u7537\u6027\u6027\u611f\u56fe"},"\u7537\u6027\u6027\u611f\u56fe"),t.props&&t.props.imgs_intimacy&&o.a.createElement(K["a"],{color:"blue",className:"prop",title:"\u4eb2\u5bc6\u5173\u7cfb\u56fe"},"\u4eb2\u5bc6\u5173\u7cfb\u56fe"),t.props&&t.props.imgs_disgusting&&o.a.createElement(K["a"],{color:"blue",className:"prop",title:"\u6076\u5fc3\u56fe"},"\u6076\u5fc3\u56fe"),t.props&&t.props.imgs_unclarity&&o.a.createElement(K["a"],{color:"blue",className:"prop",title:"\u6a21\u7cca\u56fe"},"\u6a21\u7cca\u56fe"),t.props&&t.props.sc_spam&&o.a.createElement(K["a"],{color:"blue",className:"prop",title:"\u6587\u672b\u5e7f\u544a"},"\u6587\u672b\u5e7f\u544a"),t.props&&t.props.quality_score&&o.a.createElement(K["a"],{color:"blue",className:"prop",title:"oppo\u9ad8\u66dd\u590d\u5ba1"},"oppo \u9ad8\u66dd\u590d\u5ba1"),t.props&&t.props.tier&&o.a.createElement(K["a"],{color:"blue",className:"tier"},t.props.tier),/^http:\/\/www.yidianzixun.com\/mp\/content/.test(t.url)&&o.a.createElement(K["a"],{color:"blue",className:"wm"},"\u4e00\u70b9\u53f7"),t.video_album_meta&&t.video_album_meta.douban_score&&o.a.createElement(K["a"],{color:"blue",className:"prop",title:"\u8c46\u74e3\u8bc4\u5206"},t.video_album_meta.douban_score),t.video_album_meta&&t.video_album_meta.year&&o.a.createElement(K["a"],{color:"blue",className:"prop",title:"\u5e74\u4ee3"},t.video_album_meta.year),t.video_album_meta&&t.video_album_meta.country&&o.a.createElement(K["a"],{color:"blue",className:"prop",title:"\u56fd\u5bb6"},t.video_album_meta.country),t.video_album_meta&&t.video_album_meta.category&&o.a.createElement(K["a"],{color:"blue",className:"prop",title:"\u5f71\u7247\u7c7b\u578b"},t.video_album_meta.category),t.data&&null!==t.data.doc_score&&o.a.createElement(K["a"],{color:"purple"},"\u7efc\u5408\u8bc4\u5206 "+(0===t.data.doc_score?0:Math.round(t.data.doc_score))),o.a.createElement("br",null))),o.a.createElement(J["a"],null,o.a.createElement(b["a"],{title:"\u70b9\u6211\u590d\u5236",placement:"bottom"},o.a.createElement("label",{ref:w,onClick:te,style:{marginRight:8}},t.docid)),o.a.createElement("label",{style:{marginRight:8}},t.source),o.a.createElement("label",{style:{marginRight:8}},t.date)))),B&&a&&!t.props?o.a.createElement(U["a"],{indicator:dt}):o.a.createElement(Ee,{doc:t,key:t.docid}),o.a.createElement("div",{className:"rec-item-op"},o.a.createElement(J["a"],{style:{marginBottom:8}},o.a.createElement(mt,null,o.a.createElement(g["a"],{size:"small",onClick:()=>{N(!0)}},"\u7f6e\u9876TOP"),o.a.createElement(g["a"],{size:"small",onClick:()=>{C(!0)}},"\u5c01\u9762\u56fe"),t.docid&&o.a.createElement("div",null,o.a.createElement(g["a"],{type:"primary",size:"small",href:"http://pandora.yidian-inc.com/tools/newseditor?id=".concat(t.docid),target:"_blank"}," ","\u7f16\u8f91"," "),o.a.createElement(g["a"],{type:"primary",size:"small",href:"http://pandora.yidian-inc.com/tools/commentsoperate?docid=".concat(t.docid),target:"_blank"}," ","\u8bc4\u8bba"," "),o.a.createElement(g["a"],{type:"primary",size:"small",href:ae()+"".concat(t.docid),target:"_blank"}," ","PUSH"," "),o.a.createElement(W["a"],{visible:I,title:"\u662f\u5426\u8981\u5220\u9664\u8be5\u5185\u5bb9\uff1f",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onConfirm:ie,onCancel:()=>{D(!1),console.log(L)}},o.a.createElement(g["a"],{type:"primary",size:"small",href:"/app/editor-push-news/push/editor?docid=".concat(t.docid),target:"_blank",onClick:()=>D(!0),className:"delBtn"}," ","\u5220\u9664"," ")),o.a.createElement(g["a"],{type:"primary",size:"small",target:"_blank",onClick:ce,className:"delBtn"}," ","\u6570\u636e\u7edf\u8ba1"," ")))))),o.a.createElement(y["a"],{visible:L,title:"\u662f\u5426\u6dfb\u52a0\u5230\u7f6e\u9876\u6d41\uff1f",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:ne,onCancel:()=>{N(!1),console.log(L)}},o.a.createElement(X["b"],{title:""},o.a.createElement(ht,{label:"docid",span:3},t.docid),o.a.createElement(ht,{label:"\u6807\u9898",span:3},o.a.createElement("a",{href:"http://www.yidianzixun.com/article/".concat(t.docid),target:"_blank"},t.title_new||t.title)))),_&&o.a.createElement(y["a"],{visible:_,footer:null,onCancel:()=>C(!1),width:600},o.a.createElement(Re,{itemData:t,closeModal:oe,index:c})))},vt=e=>({topList:u.topList(e),recList:u.recList(e),loadingDoc:u.loadingDoc(e)}),yt=e=>({updateCurrentTopItem:f.updateCurrentTopItem(e),updateTopList:f.updateTopList(e),updateRecList:f.updateRecList(e),getData:f.getData(e),delNewsbyDocid:f.delNewsbyDocid(e)}),gt=Object(c["c"])(vt,yt)(ft),bt=(a("CPln"),Z["a"].Option),wt=w["a"].Group,Et=e=>{e.recNews;var t=e.recList,a=e.recListOrigin,c=e.loadingrec,l=e.updateRecList,s=e.getRecNewsByFromid,u=e.searchByKeyword,p=e.searchByKeywordAsDocId,d=Object(i["m"])(),m=d.fromid,h=Object(i["l"])(),f=Object(n["useState"])("default"),y=k()(f,2),b=y[0],w=y[1],E=Object(n["useState"])(!1),L=k()(E,2),N=L[0],O=L[1],j=Object(n["useState"])([]),_=k()(j,2),C=_[0],S=_[1],T=Object(n["useState"])([]),I=k()(T,2),D=I[0],R=I[1],A=Object(n["useState"])([]),B=k()(A,2),z=B[0],P=B[1],F=Object(n["useState"])("1"),G=k()(F,2),M=G[0],V=G[1],K=Object(n["useState"])(""),H=k()(K,2),Y=H[0],X=H[1],$=Object(n["useState"])(""),q=k()($,2),W=q[0],Q=q[1],ee=Object(n["useState"])(0),te=k()(ee,2),ae=te[0],re=te[1],ne=Object(n["useRef"])(null),oe=Object(n["useState"])(!1),ie=k()(oe,2),ce=ie[0],le=ie[1],se=Object(n["useState"])(),ue=k()(se,2);ue[0],ue[1];Object(n["useEffect"])(()=>{O(!0)},[]),Object(n["useEffect"])(()=>{Q(""),X("")},[m]),Object(n["useEffect"])(()=>{S(0===ae?t:C.concat(t))},[t]),Object(n["useEffect"])(()=>{var e=ne.current;return e.addEventListener("scroll",ve),()=>{e.removeEventListener("scroll",ve)}}),Object(n["useEffect"])(()=>{pe()},[ae]),Object(n["useEffect"])(()=>{re(0),S([])},[h.state]);var pe=()=>{le(!0),console.log("loadingrec",c),s({fromid:m,pageNum:ae}),le(!1),console.log("\u8bf7\u6c42\u5b8c\u6bd5")},ve=e=>{var t=e.target,a=t.offsetHeight,r=t.scrollTop,n=t.scrollHeight;if(a+r===n){if(ce)return void console.log("\u5728\u8bf7\u6c42");re(ae+1)}},ye=(e,n)=>{console.time("filter doc");var o=e.concat(n),i=t.length>0?a:a.slice(0);console.log("before run filterDoc",i.length),i=Boolean(o.length>0)&&i.filter(e=>{return!(!o.includes("imageCollection")||"picture_gallery"!==e.ctype)||(!(!o.includes("wemedia")||!/^http:\/\/www.yidianzixun.com\/mp\/content/.test(e.url))||(!(!o.includes("focusNews")||!Boolean(e.focus))||(!(!o.includes("videoNews")||"video"!==e.content_type)||(!(!o.includes("picdoc")||"news"!==e.ctype)||(!(!o.includes("videoMicro")||"micro"!==e.video_type)||(!!(o.includes("videoMicroVertical")&&"micro"===e.video_type&&Number(e.v_width)/(e.v_height||1)<1.6)||(!(!o.includes("duanneirong")||"duanneirong"!==e.ctype)||(!(!o.includes("wemedia_rank_2")||2!==e.rank)||(!(!o.includes("wemedia_rank_3")||3!==e.rank)||(!(!o.includes("wemedia_rank_4")||4!==e.rank)||(!(!o.includes("wemedia_rank_5")||5!==e.rank)||!(!o.includes("wemedia_rank_6")||6!==e.rank))))))))))))})||a,l(i,()=>r["b"].success("\u6210\u529f\u8fc7\u6ee4"))};Object(n["useEffect"])(()=>{N&&ye(D,z)},[z,D]),Object(n["useEffect"])(()=>{if(N){var e=[...t];switch(b){case"click-rate":return e.sort((e,t)=>{var a,r,n=(null===(a=e.data)||void 0===a?void 0:a.all)&&Math.floor(1e3*(e.data["all"]["ClickDoc"]||0)/e.data["all"]["RViewDoc"])/10||0,o=(null===(r=t.data)||void 0===r?void 0:r.all)&&Math.floor(1e3*(t.data["all"]["ClickDoc"]||0)/t.data["all"]["RViewDoc"])/10||0;return n-o>0?-1:1}),void l(e,()=>r["b"].success("\u70b9\u51fb\u7387\u6392\u5e8f"));case"share-cnt":return e.sort((e,t)=>{var a,r;return((null===(a=e.data)||void 0===a?void 0:a.all)&&e.data["all"]["ShareDoc"]||0)-((null===(r=t.data)||void 0===r?void 0:r.all)&&t.data["all"]["ShareDoc"]||0)>0?-1:1}),void l(e,()=>r["b"].success("\u5206\u4eab\u6570\u6392\u5e8f"));case"comments-cnt":return e.sort((e,t)=>{var a,r;return((null===(a=e.data)||void 0===a?void 0:a.all)&&e.data["all"]["AddComment"]||0)-((null===(r=t.data)||void 0===r?void 0:r.all)&&t.data["all"]["AddComment"]||0)>0?-1:1}),void l(e,()=>r["b"].success("\u8bc4\u8bba\u7387\u6392\u5e8f"));case"doc-score":return e.sort((e,t)=>{return(e.data&&e.data.doc_score||0)-(t.data&&t.data.doc_score||0)>0?-1:1}),void l(e,()=>r["b"].success("\u7efc\u5408\u6392\u5e8f"));case"date":return W?u({keyword:W,days:M,order:"date",src:Y,fromid:m},()=>r["b"].success("\u641c\u7d22\u6210\u529f"),e=>r["b"].error(e)):s({fromid:m,order:"date"}),void l(e,()=>r["b"].success("\u65f6\u95f4\u6392\u5e8f"));case"default":return W?u({keyword:W,days:M,order:"",src:Y,fromid:m},()=>r["b"].success("\u641c\u7d22\u6210\u529f"),e=>r["b"].error(e)):s({fromid:m}),void l(e,()=>r["b"].success("\u9ed8\u8ba4\u6392\u5e8f"));default:return}}},[b]);var ge=he.map(e=>o.a.createElement(bt,{key:e.value,value:e.value},e.label)),we=e=>{w(e)},Ee=e=>{R(e)},ke=e=>{P(e)},xe=e=>{var t=JSON.parse(JSON.stringify(C)),a=t.filter(t=>{return t.itemid!==e.itemid});S(a)},Le=()=>{return C.map((e,t)=>o.a.createElement(gt,{recItem:e,index:t,key:e.docid+Math.random().toFixed(3).toString(),deleteItem:xe}))},Ne=fe.map(e=>{return o.a.createElement(bt,{key:e.value,value:e.value},e.label)}),Oe=e=>{V(e)},je=e=>{var t=e.target.value;X(t)},_e=e=>{var t=e.target.value;Q(t)},Ce=()=>{W?Object(be["f"])(W)?p({keyword:W,days:M,order:"",src:Y,fromid:m},()=>r["b"].success("\u641c\u7d22\u6210\u529f"),e=>r["b"].error(e)):u({keyword:W,days:M,order:"",src:Y,fromid:m},()=>r["b"].success("\u641c\u7d22\u6210\u529f"),e=>r["b"].error(e)):r["b"].error("\u8bf7\u8f93\u5165\u5173\u952e\u8bcd\u6216docid!")};return o.a.createElement("div",{className:"main-recommend"},o.a.createElement(v["a"],{style:{margin:"8px 0 5px"}},"\u63a8\u8350\u5185\u5bb9\u6e90"),o.a.createElement("div",{className:"content-recommend",ref:ne},o.a.createElement(J["a"],null,o.a.createElement(Z["a"],{size:"small",defaultValue:"1",style:{width:"100px"},onChange:Oe},Ne),o.a.createElement(x["a"],{onChange:je,size:"small",placeholder:"\u6e90\u540d\u79f0",className:"src-text",style:{width:"100px",marginLeft:"20px"},value:Y})),o.a.createElement(J["a"],{style:{margin:"10px 0"}},o.a.createElement(x["a"],{onPressEnter:()=>Ce(),onChange:_e,size:"small",placeholder:"\u5173\u952e\u8bcd/docid",className:"keyword-text",style:{width:"200px"},value:W}),o.a.createElement(g["a"],{onClick:()=>Ce(),className:"btn search-btn",type:"ghost",size:"small",style:{marginLeft:"15px"}},"\u641c\u7d22")),o.a.createElement(Z["a"],{size:"small",value:b,style:{width:150,marginRight:10,marginBottom:10},onChange:e=>we(e)},ge),o.a.createElement(wt,{options:de,value:D,onChange:Ee}),o.a.createElement(wt,{options:me,value:z,onChange:ke}),o.a.createElement("div",{className:"body-recommend"},o.a.createElement(U["a"],{spinning:c,tip:"\u52a0\u8f7d\u4e2d..."},Le()))))},kt=e=>({recNews:u.recNews(e),recList:u.recList(e),loadingrec:u.loadingrec(e),recListOrigin:u.recListOrigin(e)}),xt=e=>({updateRecList:f.updateRecList(e),getRecNewsByFromid:f.getRecNewsByFromid(e),searchByKeyword:f.searchByKeyword(e),searchByKeywordAsDocId:f.searchByKeywordAsDocId(e)}),Lt=Object(c["c"])(kt,xt)(Et),Nt=(a("XfOM"),e=>{var t=e.auth,a=e.favs,c=(e.categoryList,e.getChannelAuthByUserid),l=e.getFavsByUserid,s=e.getChannelProps,u=e.getTopNewsByFromid,p=e.getCategoryList,d=e.getRecNewsByFromid,m=Object(i["m"])(),h=m.fromid;return Object(n["useEffect"])(()=>{t&&t.length||c(),a&&a.length||l(),p()},[]),Object(n["useEffect"])(()=>{if(console.log("test20210816"),t.length>0&&!Object(be["e"])(t,h))return r["b"].warning("\u60a8\u6682\u65e0\u6743\u9650\u8bbf\u95ee\u6b64\u9891\u9053\u5185\u5bb9\uff01"),void setTimeout(()=>{window.location.href="http://".concat(window.location.host,"/app/channel/")},1e3)},[t]),Object(n["useEffect"])(()=>{h&&(s(h),u(h),d({fromid:h}))},[h]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"main-content"},o.a.createElement(V,null),o.a.createElement(Lt,null),o.a.createElement(at,null),o.a.createElement(ot,null)))}),Ot=e=>({auth:l.auth(e),favs:s.favs(e),categoryList:u.categoryList(e)}),jt=e=>({getChannelAuthByUserid:p.getChannelAuthByUserid(e),getFavsByUserid:h.getFavsByUserid(e),getChannelProps:f.getChannelProps(e),getTopNewsByFromid:f.getTopNewsByFromid(e),getRecNewsByFromid:f.getRecNewsByFromid(e),getCategoryList:f.getCategoryList(e)});t["default"]=Object(c["c"])(Ot,jt)(Nt)},XfOM:function(e,t,a){e.exports={normal:"normal",welcome:"welcome",list:"list","main-content":"main-content"}},XmyN:function(e,t,a){e.exports={"main-preview":"main-preview",iframeshow:"iframeshow","ifr-docid":"ifr-docid","ifr-article":"ifr-article","ant-tabs":"ant-tabs","ant-tabs-content":"ant-tabs-content"}},Xts7:function(e,t,a){e.exports={"main-sider":"main-sider","sider-op":"sider-op","ant-checkbox-wrapper":"ant-checkbox-wrapper"}},m1ku:function(e,t,a){e.exports={full:"full",loadingBg:"loadingBg","ant-spin":"ant-spin","main-toplist":"main-toplist","main-toplist-content":"main-toplist-content","main-toplist-header":"main-toplist-header","main-toplist-body":"main-toplist-body",ReactVirtualized__Grid:"ReactVirtualized__Grid",ReactVirtualized__Grid__innerScrollContainer:"ReactVirtualized__Grid__innerScrollContainer",ReactVirtualized__List:"ReactVirtualized__List",save:"save",center:"center",repeatDocIdCtn:"repeatDocIdCtn"}},"n9/l":function(e,t,a){e.exports={"rec-item":"rec-item","rec-item-left":"rec-item-left","rec-img":"rec-img","rec-img-item":"rec-img-item"}},roLW:function(e,t,a){e.exports={"top-item":"top-item",firstAddTopTime:"firstAddTopTime","top-item-info":"top-item-info","top-item-info-detail":"top-item-info-detail","top-item-info-detail-top":"top-item-info-detail-top","top-item-info-detail-left":"top-item-info-detail-left","top-item-info-detail-right":"top-item-info-detail-right","top-item-info-detail-title-length":"top-item-info-detail-title-length","top-item-img":"top-item-img","top-item-data":"top-item-data",showBtn:"showBtn","top-item-op":"top-item-op","ant-input-group":"ant-input-group","top-item-op-input":"top-item-op-input","top-item-op-select":"top-item-op-select","top-item-op-select-long":"top-item-op-select-long","ant-select-selection":"ant-select-selection",red:"red","ant-select-multiple":"ant-select-multiple","ant-select-sm":"ant-select-sm","ant-select-selection-search":"ant-select-selection-search"}}}]);