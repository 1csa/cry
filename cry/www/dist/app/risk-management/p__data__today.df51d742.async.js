(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{CN3I:function(t,e,a){"use strict";a("zAnB");var n=a("cUST"),r=(a("jz31"),a("8VRj")),o=(a("OuEz"),a("nEO1")),i=a("ERkP"),l=a.n(i),c=(a("tbSg"),o["a"].Content);class s extends i["Component"]{render(){var t=this.props;return l.a.createElement("div",{className:"page-header"},l.a.createElement(c,null,l.a.createElement("div",{className:"layout-container",style:{position:"relative"}},l.a.createElement(r["a"],null,l.a.createElement(r["a"].Item,null,t.home),l.a.createElement(r["a"].Item,null,t.current)),l.a.createElement("div",{style:{position:"absolute",right:"0",top:"0"}},t.children)),l.a.createElement(n["a"],{dashed:!0})))}}s.defaultProps={home:"\u9996\u9875",current:"\u5f53\u524d\u9875\u9762\u6807\u9898\u672a\u6307\u5b9a"},e["a"]=s},kGVi:function(t,e,a){"use strict";a.r(e);a("M6c6");var n=a("jMRu"),r=a("Z32k"),o=a.n(r),i=a("JGaj"),l=a.n(i),c=a("maMK"),s=a.n(c),p=a("ERkP"),u=a.n(p),d=a("CN3I"),m=a("ggb3"),h=a.n(m),g=a("wknW"),x=a("JCfe"),f=a.n(x);function y(t,e,a){return t.hourDatas&&t.hourDatas.map(t=>{e[a].dataArr.unshift(t.userCount),e[a].bDataArr.unshift("".concat(t.day," ").concat(t.hour,"\u65f6\u6570\u636e"))}),t.totalData&&(e[a].totalData=3===a?(100*t.totalData.userCount).toFixed(2)+"%":t.totalData.userCount),t.grewData&&(e[a].grewData=t.grewData.userCount),e}function b(t,e,a){return t.map(t=>{e[a].dataArr.unshift({name:t.enName,value:t.userCount,cnName:t.cnName?t.cnName:t.enName}),e[a].bDataArr.unshift(t.enName)}),e}function v(t){var e=[];return t.map(t=>{if(D.includes(t.cnName)){var a=t.cnName,n=t.allUserCount,r=t.errorUserCount,o=t.warnUserCount;e.push(f()({name:a,value:n||Number(r+o)},t))}}),e}function w(t){var e=[],a="",n=null,r=null,o=null,i=null;return t.map(t=>{var a=t.day.split("-").join("");e.push(a+t.hour)}),a=Math.max(...e),n=a.toString().substring(0,4),r=a.toString().substring(4,6),o=a.toString().substring(6,8),i=a.toString().substring(8,10),"24\u5c0f\u65f6\u6570\u636e\uff0c\u622a\u6b62".concat(n,"\u5e74").concat(r,"\u6708").concat(o,"\u65e5").concat(i,"\u70b9")}function E(t){var e=t.name,a=t.color,n=t.colorStart,r=t.colorStop,o=t.dataArr,i=t.bDataArr;return{title:{text:e,y:"bottom",x:"left",textStyle:{fontSize:13},padding:[0,0,35,25]},tooltip:{trigger:"item",position:"top",padding:[5,10,5,10]},xAxis:{type:"category",data:i,boundaryGap:!1,axisLabel:{show:!1},axisLine:{show:!1},axisTick:{show:!1}},yAxis:{type:"value",axisLabel:{show:!1},splitLine:{show:!1},axisTick:{show:!1},axisLine:{show:!1}},series:[{data:o,type:"line",areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:n},{offset:1,color:r}]}},lineStyle:{color:a},itemStyle:{color:a},smooth:!0}]}}function S(t){var e=t.color,a=t.bDataArr,n=t.dataArr;return{color:e,tooltip:{trigger:"axis",axisPointer:{type:"shadow"},padding:[5,10,5,10],formatter:function(t){return t[0].data.cnName+": "+t[0].data.value}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},yAxis:[{type:"category",data:a,axisTick:{alignWithLabel:!0}}],xAxis:[{type:"value"}],series:[{type:"bar",barWidth:"60%",data:n}]}}var D=["\u6fb3\u95e8","\u53f0\u6e7e","\u6cb3\u5317","\u5c71\u897f","\u5185\u8499\u53e4","\u8fbd\u5b81","\u5409\u6797","\u9ed1\u9f99\u6c5f","\u6c5f\u82cf","\u6d59\u6c5f","\u5b89\u5fbd","\u798f\u5efa","\u6c5f\u897f","\u5c71\u4e1c","\u6cb3\u5357","\u6e56\u5317","\u6e56\u5357","\u5e7f\u4e1c","\u5e7f\u897f","\u6d77\u5357","\u56db\u5ddd","\u8d35\u5dde","\u4e91\u5357","\u897f\u85cf","\u9655\u897f","\u7518\u8083","\u9752\u6d77","\u5b81\u590f","\u65b0\u7586","\u5317\u4eac","\u5929\u6d25","\u4e0a\u6d77","\u91cd\u5e86","\u9999\u6e2f","\u5357\u6d77\u8bf8\u5c9b"];function A(t){var e=[],a=0,n=0;return t.map(t=>e.push(t.value)),a=e.length>0?Math.min(...e):0,n=Math.max(...e,0),{tooltip:{trigger:"item",textStyle:{lineHeight:20},padding:[10,30,5,10],formatter:function(t){return console.log(t.data),"<div>\n            <p>".concat(t.data.name,"</p>\n            <ul>\n              <li>\u5f02\u5e38\uff1a").concat(t.data.errorUserCount,"</li>\n              <li>\u7591\u4f3c\uff1a").concat(t.data.warnUserCount,"</li>\n              <li>\u5408\u8ba1\uff1a").concat(t.data.value,"</li>\n            </ul>\n\n          </div>")}},toolbox:{show:!0,orient:"vertical",left:"right",top:"center",feature:{dataView:{readOnly:!0},restore:{},saveAsImage:{}}},visualMap:{min:a,max:n,text:["\u9ad8","\u4f4e"],realtime:!1,calculable:!0,padding:[0,0,50,40],inRange:{color:["lightskyblue","yellow","orangered"]}},series:[{name:"\u533a\u57df\u6570\u636e",type:"map",mapType:"china",label:{show:!0},data:t}]}}var F=a("Ckg4");a("F1q5"),a("7umX"),a("JLf9"),a("W4ul"),a("Ctdn"),a("XA0Y");var k=()=>{var t=Object(p["useState"])(""),e=s()(t,2),a=e[0],r=e[1],i=Object(p["useState"])([{name:"\u4eca\u65e5\u8bc6\u522b\u7528\u6237",color:"#51D1EE",colorStart:"#A7E6F5",colorStop:"#F8FDFF",dataArr:[],bDataArr:[],totalData:0,grewData:0},{name:"\u5f02\u5e38\u4eba\u6570",color:"#FF7165",colorStart:"#FF958A",colorStop:"#FFFBFB",dataArr:[],bDataArr:[],totalData:0,grewData:0},{name:"\u7591\u4f3c\u4eba\u6570",color:"#FFC985",colorStart:"#FFE0BC",colorStop:"#FFFEFD",dataArr:[],bDataArr:[],totalData:0,grewData:0},{name:"\u5f02\u5e38\u5360\u6bd4",color:"#96E2AA",colorStart:"#C2EECE",colorStop:"#F8FEF9",dataArr:[],bDataArr:[],totalData:0,grewData:0}]),c=s()(i,2),m=c[0],x=c[1],f=Object(p["useState"])([{color:["#5596F5"],dataArr:[],bDataArr:[]},{color:["#5596F5"],dataArr:[],bDataArr:[]}]),D=s()(f,2),k=D[0],C=D[1],N=Object(p["useState"])([]),T=s()(N,2),z=(T[0],T[1]);Object(p["useEffect"])(()=>{B(),R(),j(),O()},[]);var O=function(){var t=l()(o.a.mark(function t(){var e;return o.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,h()({method:"get",url:"http://10.136.130.25:7752/ugp/control/finds?keys=channel_category&keys=channel_category_distribution_channel&keys=channel_name_distribution_channel"});case 2:e=t.sent,console.log(e);case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),L=function(){var t=l()(o.a.mark(function t(e,a){var n,r;return o.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n="/api/proxy/".concat(g["a"].API_HOST,"/statistic/").concat(a),t.next=3,h.a.post(n,{type:e});case 3:return r=t.sent,t.next=6,r;case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}(),B=function(){var t=l()(o.a.mark(function t(){var e,a,n,i,l,c,s;return o.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=m.map((t,e)=>L(e+1,"record")),a=0;case 2:if(!(a<e.length)){t.next=10;break}return t.next=5,e[a];case 5:n=t.sent,200===n.data.status&&(i=y(n.data.data,m,a),0===a&&(l=w(n.data.data.hourDatas),r(l)),x(i),c=E(i[a]),s=F.init(document.getElementById("chart".concat(a+1)),"light"),s.setOption(c));case 7:a++,t.next=2;break;case 10:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),R=function(){var t=l()(o.a.mark(function t(){var e,a,n,r,i,l;return o.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=k.map((t,e)=>L(e+1,"byNameRecord")),a=0;case 2:if(!(a<e.length)){t.next=10;break}return t.next=5,e[a];case 5:n=t.sent,200===n.data.status&&(r=b(n.data.data,k,a),C(r),i=S(r[a]),l=F.init(document.getElementById("chart".concat(a+5)),"light"),l.setOption(i));case 7:a++,t.next=2;break;case 10:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),j=function(){var t=l()(o.a.mark(function t(){var e,a,n,r;return o.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,L(3,"byNameRecord");case 2:e=t.sent,200===e.data.status&&(a=v(e.data.data),z(a),n=A(a),r=F.init(document.getElementById("chart7"),"light"),r.setOption(n));case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"main-content"},u.a.createElement(d["a"],{current:"\u4eca\u65e5\u6982\u89c8",home:"\u6570\u636e\u4e2d\u5fc3"}),u.a.createElement(n["a"],{bordered:!1,style:{minHeight:380,marginTop:"-25px"}},u.a.createElement("h3",{style:{fontSize:"18px",paddingLeft:"20px",paddingRight:"10px",lineHeight:"25px"}},"\u57fa\u672c\u6982\u89c8 ",u.a.createElement("span",{style:{fontSize:"13px"}},"\u6bcf1\u4e2a\u5c0f\u65f6\u66f4\u65b0"),a?u.a.createElement("span",{style:{float:"right",fontSize:"13px"}},a):""),m&&m.map((t,e)=>{return u.a.createElement("div",{style:{width:"25%",display:"inline-block"},key:"chart"+(e+1)},u.a.createElement("div",{id:"chart"+(e+1),style:{height:"200px",width:"100%",marginTop:"-45px",marginBottom:"-20px"}},"\xa0"),u.a.createElement("div",{style:{padding:"0 28px"}},u.a.createElement("h3",{style:{float:"left",color:t.color,fontSize:"24px",lineHeight:"25px"}},0===t.totalData?"--":t.totalData),u.a.createElement("span",{style:{float:"right",fontSize:"13px",lineHeight:"25px"}},"\u8f83\u6628\u65e5",0===t.grewData?"--":(100*t.grewData).toFixed(0)+"%")))}),u.a.createElement("div",{style:{width:"50%",display:"inline-block",marginTop:"40px"}},u.a.createElement("h3",{style:{fontSize:"18px",paddingLeft:"20px",paddingRight:"10px",lineHeight:"25px"}},"TOP10\u7b56\u7565\u6392\u540d",u.a.createElement("span",{style:{float:"right",fontSize:"13px"}},"\u6628\u65e5\u6570\u636e")),u.a.createElement("div",{id:"chart5",style:{height:"400px",width:"100%",marginTop:"-45px",marginBottom:"-30px"}},"\xa0")),u.a.createElement("div",{style:{width:"50%",display:"inline-block",marginTop:"40px"}},u.a.createElement("h3",{style:{fontSize:"18px",paddingLeft:"20px",paddingRight:"10px",lineHeight:"25px"}},"TOP10\u5f02\u5e38\u8bbe\u5907",u.a.createElement("span",{style:{float:"right",fontSize:"13px"}},"\u8fd17\u65e5\u6570\u636e")),u.a.createElement("div",{id:"chart6",style:{height:"400px",width:"100%",marginTop:"-45px",marginBottom:"-30px"}},"\xa0")),u.a.createElement("div",{style:{width:"100%",display:"inline-block",marginTop:"80px"}},u.a.createElement("h3",{style:{fontSize:"18px",paddingLeft:"20px",paddingRight:"10px",lineHeight:"25px"}},"\u5730\u57df\u6570\u636e",u.a.createElement("span",{style:{float:"right",fontSize:"13px"}},"\u8fd130\u65e5\u6570\u636e")),u.a.createElement("div",{id:"chart7",style:{height:"600px",width:"100%",marginTop:"-45px",marginBottom:"-30px"}},"\xa0")))))};e["default"]=k},tbSg:function(t,e,a){t.exports={"page-header":"page-header","ant-breadcrumb":"ant-breadcrumb","page-header-title":"page-header-title","ant-layout-content":"ant-layout-content","layout-container":"layout-container"}}}]);