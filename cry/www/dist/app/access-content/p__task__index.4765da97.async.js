(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[17],{KfSF:function(e,a,t){"use strict";t.r(a);t("zI7Q");var r=t("SCaQ"),l=(t("LCbC"),t("NwOV")),n=(t("Iw6u"),t("ibId")),c=(t("zAnB"),t("cUST")),s=t("Z32k"),m=t.n(s),u=(t("IJu9"),t("DuHN")),o=t("JCfe"),p=t.n(o),i=t("JGaj"),E=t.n(i),d=t("maMK"),y=t.n(d),b=(t("ljfu"),t("x2dm")),f=(t("vgpD"),t("UL5a")),_=(t("oeo2"),t("BmDy")),w=t("ERkP"),g=t.n(w),v=t("uDfI"),h=t("7+7l"),k=t("fLat"),j=t("P10b"),C=t("n/bh"),O=_["a"].TextArea,x=f["a"].Item,S=b["a"].Option,q=e=>{var a=e.dispatch,t=e.form,s=e.user,o=t.getFieldDecorator,i=t.validateFields,d=t.setFieldsValue,v=Object(w["useState"])(),q=y()(v,2),D=(q[0],q[1]),I=Object(w["useState"])([]),F=y()(I,2),J=F[0],T=F[1],G=Object(w["useState"])([]),N=y()(G,2),U=N[0],z=N[1];Object(w["useEffect"])(()=>{var e=C["o"][0];L(e)},[]);var L=e=>{var a=C["e"][e],t=a[0].content_type,r=a.filter(e=>e["content_type"]===t)[0].children,l=r[0].crawl_type;D(e),T([...a]),z([...r]);var n=Object.keys(C["c"]).reduce((e,a)=>{return e[a]=C["c"][a][0],e},{});d({platform:e,content_type:t,crawl_type:l,crawl_mode:"longtime",crawl_time_limit:n,import_account:"yidianhao"})},P=e=>{L(e)},V=e=>{var a=J.filter(a=>a["content_type"]===e)[0].children,t=a[0].crawl_type;z([...a]),d({crawl_type:t})},A=e=>{e.preventDefault(),i(function(){var e=E()(m.a.mark(function e(t,r){var l,n,c,o;return m.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return console.log(t),e.abrupt("return");case 3:return l=s.currentUser||{},r["crawl_type"]=C["g"][r["crawl_type"]],r["content_type"]=C["d"][r["content_type"]],r["creator_mail"]=l["email"]||l["name"]||"",e.next=9,a({type:"Task/saveTask",payload:p()({},r)});case 9:n=e.sent,c=n.code,o=n.reason,0===c?u["a"].success("\u4efb\u52a1\u521b\u5efa\u6210\u529f!"):u["a"].error("\u4efb\u52a1\u521b\u5efa\u5931\u8d25,\u539f\u56e0: ".concat(o||"\u672a\u77e5\u9519\u8bef"));case 13:case"end":return e.stop()}},e)}));return function(a,t){return e.apply(this,arguments)}}())},B={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:12}}},K={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:4}}};return g.a.createElement(g.a.Fragment,null,g.a.createElement("div",{className:"main-content"},g.a.createElement(j["default"],null),g.a.createElement(c["a"],null,g.a.createElement("span",{style:{fontSize:"14px",color:"#a5cf9d"}},"\u65b0\u5efa\u4efb\u52a1")),g.a.createElement(f["a"],Object.assign({},B,{onSubmit:A}),g.a.createElement(x,{label:"\u4efb\u52a1\u540d\u79f0"},o("name",{rules:[{required:!0,message:"\u4efb\u52a1\u540d\u79f0\u5fc5\u586b"}]})(g.a.createElement(_["a"],null))),g.a.createElement(x,{label:"\u4efb\u52a1\u8bf4\u660e"},o("describe",{rules:[{required:!0,message:"\u4efb\u52a1\u8bf4\u660e\u5fc5\u586b"}]})(g.a.createElement(O,{rows:3}))),g.a.createElement(x,{label:"\u5e73\u53f0"},o("platform",{rules:[{required:!0,message:"\u5e73\u53f0\u5fc5\u9009"}]})(g.a.createElement(b["a"],{onChange:P},C["o"].map(e=>g.a.createElement(S,{key:e},e))))),g.a.createElement(x,{label:"\u7c7b\u5bb9\u7c7b\u578b"},o("content_type",{rules:[{required:!0,message:"\u7c7b\u5bb9\u7c7b\u578b"}]})(g.a.createElement(b["a"],{onChange:V},J.length&&J.map(e=>g.a.createElement(S,{key:e.content_type},e.content_type))))),g.a.createElement(x,{label:"\u6293\u53d6\u65b9\u5f0f"},o("crawl_type",{rules:[{required:!0,message:"\u4efb\u52a1\u8bf4\u660e\u5fc5\u586b"}]})(g.a.createElement(b["a"],null,U.length&&U.map(e=>g.a.createElement(S,{key:e["crawl_type"]},e["crawl_type"]))))),g.a.createElement(x,{label:"\u662f\u5426\u6293\u53d6\u8bc4\u8bba"},o("is_crawl_comment",{valuePropName:"checked",initialValue:!0})(g.a.createElement(n["a"],null,"\u6293\u53d6"))),g.a.createElement(x,{label:"\u6293\u53d6\u91cf\u7ea7"},o("crawl_mode")(g.a.createElement(l["a"].Group,null,g.a.createElement(l["a"],{value:"longtime"},"\u6301\u7eed\u6293\u53d6"),g.a.createElement(l["a"],{value:"once"},"\u4e00\u6b21\u6027\u6293\u53d6")))),g.a.createElement(x,{label:"\u6293\u53d6\u65f6\u95f4"},o("crawl_time_limit",{rules:[{required:!0,message:"\u6293\u53d6\u65f6\u95f4"}]})(g.a.createElement(h["default"],null))),g.a.createElement(x,{label:"\u5bfc\u5165\u8d26\u53f7"},o("import_account")(g.a.createElement(l["a"].Group,null,g.a.createElement(l["a"],{value:"yidianhao"},"\u4e00\u70b9\u53f7"),g.a.createElement(l["a"],{value:"ugc"},"UGC\u8d26\u53f7")))),g.a.createElement(x,{label:"\u6620\u5c04\u5173\u7cfb\u8868"},o("templates",{rules:[{required:!0,message:"\u6620\u5c04\u5173\u7cfb\u8868"}]})(g.a.createElement(k["default"],null))),g.a.createElement(x,Object.assign({},K),g.a.createElement(r["a"],{type:"primary",htmlType:"submit"},"\u4fdd\u5b58")))))};a["default"]=Object(v["c"])(e=>{var a=e.user;return{user:a}})(f["a"].create()(q))}}]);