(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7,5,6],{"5eWA":function(e,a,t){"use strict";t.r(a);t("57X2");var n=t("79zX"),s=(t("zI7Q"),t("SCaQ")),r=t("JCfe"),l=t.n(r),c=(t("IJu9"),t("DuHN")),i=t("Z32k"),o=t.n(i),m=t("JGaj"),u=t.n(m),j=t("maMK"),d=t.n(j),h=t("ERkP"),v=t.n(h),p=t("uDfI"),E=(t("T0rM"),t("vnuX")),N=t("qPc2"),g=e=>{var a=e.dispatch,t=e.spreadState,r=Object(h["useState"])([]),i=d()(r,2),m=i[0],j=i[1],p=Object(h["useState"])([]),g=d()(p,2),f=g[0],y=g[1],b=Object(h["useState"])([]),_=d()(b,2),O=_[0],I=_[1];Object(h["useEffect"])(()=>{t["isDirty"]&&T()},[t["isDirty"]]);var T=function(){var e=u()(o.a.mark(function e(){var t,n,s,r,l,c;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a({type:"spread/fetchSpread"});case 2:t=e.sent,n=t.result,s=t.status,"success"===s&&(r=n["channel"]&&n["channel"].map(e=>{return{tv_channel_id:e["tv_channel_id"],channel_name:e["channel_name"],icon:e["icon"],action_type:e["actionParams"]["action_type"],open_value:e["actionParams"]["open_value"]}}),l=n["movie"]&&n["movie"].map(e=>{return{docid:e["docid"],title:e["title"],Image:e["Image"],action_type:e["actionParams"]["action_type"],open_value:e["actionParams"]["open_value"]}}),c=n["audio"]&&n["audio"].map(e=>{return{docid:e["docid"],title:e["title"],Image:e["Image"],albumid:e["albumid"]}}),j([...r]),y([...l]),I([...c]));case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();function C(e){e===N["TV_CHANNEL"]&&(m.push({tv_channel_id:"",channel_name:"",icon:"",action_type:"",open_value:""}),j([...m])),e===N["MOVIE"]&&(f.push({docid:"",title:"",Image:"",action_type:"",open_value:""}),y([...f])),e===N["AUDIO"]&&(O.push({docid:"",title:"",Image:"",albumid:""}),I([...O]))}var k=function(){var e=u()(o.a.mark(function e(){var t,n,s,r,i,u;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=m.map(e=>{return{tv_channel_id:e["tv_channel_id"],channel_name:e["channel_name"],icon:e["icon"],action:"tv_station",actionParams:{tv_type:"live",action_type:e["action_type"],open_value:e["open_value"]}}}),n=f.map(e=>{return{docid:e["docid"],title:e["title"],Image:e["Image"],action:"tv_station",actionParams:{tv_type:"video",action_type:e["action_type"],open_value:e["open_value"]}}}),s=O.map(e=>{return{docid:e["docid"],title:e["title"],Image:e["Image"],albumid:e["albumid"]}}),!(t.length<8||n.length<6||s.length<6)){e.next=6;break}return c["a"].error("\u770b\u7535\u89c6\u6700\u5c11\u4e3a8\u6761\u6570\u636e,\u5176\u4f59\u6700\u5c11\u4e3a6\u6761"),e.abrupt("return");case 6:return r={channel:t,movie:n,audio:s},e.next=9,a({type:"spread/saveSpread",payload:l()({},r)});case 9:i=e.sent,u=i.status,"success"===u?c["a"].success("\u64cd\u4f5c\u6210\u529f!"):c["a"].error("\u64cd\u4f5c\u5931\u8d25, \u8bf7\u7a0d\u540e\u91cd\u8bd5!");case 12:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),z=(e,a,t)=>{var n=[];e===N["TV_CHANNEL"]&&(n=m),e===N["MOVIE"]&&(n=f),e===N["AUDIO"]&&(n=O),"up"===a&&n.splice(t-1,1,...n.splice(t,1,n[t-1])),"down"===a&&n.splice(t,1,...n.splice(t+1,1,n[t])),e===N["TV_CHANNEL"]&&j([...n]),e===N["MOVIE"]&&y([...n]),e===N["AUDIO"]&&I([...n])},V=(e,a)=>{e===N["TV_CHANNEL"]&&(m.splice(a,1),j([...m])),e===N["MOVIE"]&&(f.splice(a,1),y([...f])),e===N["AUDIO"]&&(O.splice(a,1),I([...O]))},w=(e,a)=>{return v.a.createElement("div",{className:"common-head"},e," ",v.a.createElement(s["a"],{onClick:()=>C(a),size:"small",type:"primary",style:{float:"right"}},"\u65b0\u589e"))},A=(e,a,t,n)=>{e===N["TV_CHANNEL"]&&(m[a][t]=n,j([...m])),e===N["MOVIE"]&&(f[a][t]=n,y([...f])),e===N["AUDIO"]&&(O[a][t]=n,I([...O]))};return v.a.createElement("div",{className:"main-content"},v.a.createElement("div",{className:"tv-channel"},v.a.createElement(n["a"],{header:w("\u770b\u7535\u89c6",N["TV_CHANNEL"]),dataSource:m,renderItem:(e,a)=>v.a.createElement(n["a"].Item,null,v.a.createElement(E["default"],{index:a,total:m.length,onMove:(e,a)=>z(N["TV_CHANNEL"],e,a),onDelete:e=>V(N["TV_CHANNEL"],e),onChange:(e,a,t)=>A(N["TV_CHANNEL"],e,a,t),data:e,type:N["TV_CHANNEL"]}))})),v.a.createElement("div",{className:"movie"},v.a.createElement(n["a"],{header:w("\u770b\u5927\u7247",N["MOVIE"]),dataSource:f,renderItem:(e,a)=>v.a.createElement(n["a"].Item,null,v.a.createElement(E["default"],{index:a,total:f.length,onMove:(e,a)=>z(N["MOVIE"],e,a),onDelete:e=>V(N["MOVIE"],e),onChange:(e,a,t)=>A(N["MOVIE"],e,a,t),data:e,type:N["MOVIE"]}))})),v.a.createElement("div",{className:"audio"},v.a.createElement(n["a"],{header:w("\u97f3\u9891",N["AUDIO"]),dataSource:O,renderItem:(e,a)=>v.a.createElement(n["a"].Item,null,v.a.createElement(E["default"],{index:a,total:O.length,onMove:(e,a)=>z(N["AUDIO"],e,a),onDelete:e=>V(N["AUDIO"],e),onChange:(e,a,t)=>A(N["AUDIO"],e,a,t),data:e,type:N["AUDIO"]}))})),v.a.createElement("div",{className:"save-btn"},m.length||f.length||O.length?v.a.createElement(s["a"],{type:"primary",onClick:k},"\u4fdd\u5b58"):null))};a["default"]=Object(p["c"])(e=>{var a=e.spread;return{spreadState:a}})(g)},MROq:function(e,a,t){var n={"./af":"8GSH","./af.js":"8GSH","./ar":"NcOb","./ar-dz":"1ors","./ar-dz.js":"1ors","./ar-kw":"Sc1Y","./ar-kw.js":"Sc1Y","./ar-ly":"GzvP","./ar-ly.js":"GzvP","./ar-ma":"hH25","./ar-ma.js":"hH25","./ar-sa":"u2jB","./ar-sa.js":"u2jB","./ar-tn":"5Mza","./ar-tn.js":"5Mza","./ar.js":"NcOb","./az":"ZVVJ","./az.js":"ZVVJ","./be":"kQaN","./be.js":"kQaN","./bg":"+n5x","./bg.js":"+n5x","./bm":"TTiN","./bm.js":"TTiN","./bn":"aIF2","./bn.js":"aIF2","./bo":"QWb5","./bo.js":"QWb5","./br":"iQoZ","./br.js":"iQoZ","./bs":"EL7g","./bs.js":"EL7g","./ca":"vd/2","./ca.js":"vd/2","./cs":"K+3W","./cs.js":"K+3W","./cv":"Jt3X","./cv.js":"Jt3X","./cy":"sWi3","./cy.js":"sWi3","./da":"YcFX","./da.js":"YcFX","./de":"BKZ+","./de-at":"Oq9h","./de-at.js":"Oq9h","./de-ch":"hHY4","./de-ch.js":"hHY4","./de.js":"BKZ+","./dv":"w8Ej","./dv.js":"w8Ej","./el":"tSbB","./el.js":"tSbB","./en-SG":"cGzb","./en-SG.js":"cGzb","./en-au":"HgyJ","./en-au.js":"HgyJ","./en-ca":"ZyTy","./en-ca.js":"ZyTy","./en-gb":"exaB","./en-gb.js":"exaB","./en-ie":"yKzn","./en-ie.js":"yKzn","./en-il":"TB59","./en-il.js":"TB59","./en-nz":"iDxo","./en-nz.js":"iDxo","./eo":"4bvN","./eo.js":"4bvN","./es":"GNPT","./es-do":"R7mU","./es-do.js":"R7mU","./es-us":"Nstw","./es-us.js":"Nstw","./es.js":"GNPT","./et":"ZOjb","./et.js":"ZOjb","./eu":"kFC9","./eu.js":"kFC9","./fa":"8Cju","./fa.js":"8Cju","./fi":"vcN1","./fi.js":"vcN1","./fo":"8Ygf","./fo.js":"8Ygf","./fr":"Y8Ij","./fr-ca":"t+Zl","./fr-ca.js":"t+Zl","./fr-ch":"SPXN","./fr-ch.js":"SPXN","./fr.js":"Y8Ij","./fy":"T3MF","./fy.js":"T3MF","./ga":"NowM","./ga.js":"NowM","./gd":"GJYX","./gd.js":"GJYX","./gl":"MdC8","./gl.js":"MdC8","./gom-latn":"5j0y","./gom-latn.js":"5j0y","./gu":"fY0S","./gu.js":"fY0S","./he":"ACAV","./he.js":"ACAV","./hi":"3WqV","./hi.js":"3WqV","./hr":"OnNk","./hr.js":"OnNk","./hu":"EQmw","./hu.js":"EQmw","./hy-am":"MNf7","./hy-am.js":"MNf7","./id":"0yow","./id.js":"0yow","./is":"TmOJ","./is.js":"TmOJ","./it":"xD/0","./it-ch":"foQf","./it-ch.js":"foQf","./it.js":"xD/0","./ja":"jOnb","./ja.js":"jOnb","./jv":"lOtj","./jv.js":"lOtj","./ka":"BAN/","./ka.js":"BAN/","./kk":"iNiw","./kk.js":"iNiw","./km":"TUxt","./km.js":"TUxt","./kn":"hQzt","./kn.js":"hQzt","./ko":"ZNZT","./ko.js":"ZNZT","./ku":"S0Tg","./ku.js":"S0Tg","./ky":"JO+T","./ky.js":"JO+T","./lb":"vn/h","./lb.js":"vn/h","./lo":"gnIm","./lo.js":"gnIm","./lt":"6PD3","./lt.js":"6PD3","./lv":"YKe2","./lv.js":"YKe2","./me":"d3TR","./me.js":"d3TR","./mi":"hTlv","./mi.js":"hTlv","./mk":"ffVN","./mk.js":"ffVN","./ml":"ejL1","./ml.js":"ejL1","./mn":"RIsM","./mn.js":"RIsM","./mr":"CPJk","./mr.js":"CPJk","./ms":"d5Hy","./ms-my":"t4T9","./ms-my.js":"t4T9","./ms.js":"d5Hy","./mt":"1KVU","./mt.js":"1KVU","./my":"LsNb","./my.js":"LsNb","./nb":"h+U8","./nb.js":"h+U8","./ne":"2JSI","./ne.js":"2JSI","./nl":"jsZ8","./nl-be":"+h6j","./nl-be.js":"+h6j","./nl.js":"jsZ8","./nn":"mh29","./nn.js":"mh29","./pa-in":"O6bP","./pa-in.js":"O6bP","./pl":"8Bez","./pl.js":"8Bez","./pt":"DDip","./pt-br":"uHm5","./pt-br.js":"uHm5","./pt.js":"DDip","./ro":"baBi","./ro.js":"baBi","./ru":"ecsu","./ru.js":"ecsu","./sd":"e9KM","./sd.js":"e9KM","./se":"CZRU","./se.js":"CZRU","./si":"TO58","./si.js":"TO58","./sk":"K+Lk","./sk.js":"K+Lk","./sl":"QK6v","./sl.js":"QK6v","./sq":"v3Qg","./sq.js":"v3Qg","./sr":"Ndyf","./sr-cyrl":"PGvg","./sr-cyrl.js":"PGvg","./sr.js":"Ndyf","./ss":"2B8G","./ss.js":"2B8G","./sv":"WF5B","./sv.js":"WF5B","./sw":"4VvY","./sw.js":"4VvY","./ta":"dw3T","./ta.js":"dw3T","./te":"4MAb","./te.js":"4MAb","./tet":"/hi0","./tet.js":"/hi0","./tg":"PoVJ","./tg.js":"PoVJ","./th":"OY2w","./th.js":"OY2w","./tl-ph":"UC+K","./tl-ph.js":"UC+K","./tlh":"cWLW","./tlh.js":"cWLW","./tr":"EqYs","./tr.js":"EqYs","./tzl":"fN8o","./tzl.js":"fN8o","./tzm":"6cYq","./tzm-latn":"pdAN","./tzm-latn.js":"pdAN","./tzm.js":"6cYq","./ug-cn":"J+SV","./ug-cn.js":"J+SV","./uk":"6Olw","./uk.js":"6Olw","./ur":"QNGR","./ur.js":"QNGR","./uz":"hLzJ","./uz-latn":"KqOT","./uz-latn.js":"KqOT","./uz.js":"hLzJ","./vi":"EnIJ","./vi.js":"EnIJ","./x-pseudo":"W7dU","./x-pseudo.js":"W7dU","./yo":"QDhB","./yo.js":"QDhB","./zh-cn":"bjMe","./zh-cn.js":"bjMe","./zh-hk":"JFCg","./zh-hk.js":"JFCg","./zh-tw":"xBDH","./zh-tw.js":"xBDH"};function s(e){var a=r(e);return t(a)}function r(e){if(!t.o(n,e)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return n[e]}s.keys=function(){return Object.keys(n)},s.resolve=r,e.exports=s,s.id="MROq"},T0rM:function(e,a,t){e.exports={"main-content":"main-content","tv-channel":"tv-channel",movie:"movie",audio:"audio","common-head":"common-head","save-btn":"save-btn"}},qPc2:function(e,a,t){"use strict";t.r(a),t.d(a,"TV_CHANNEL",function(){return n}),t.d(a,"MOVIE",function(){return s}),t.d(a,"AUDIO",function(){return r});var n="tv",s="movie",r="audio"},vnuX:function(e,a,t){"use strict";t.r(a);t("zAnB");var n=t("cUST"),s=(t("53cK"),t("VKn7")),r=(t("mZxn"),t("S7b9")),l=(t("oeo2"),t("BmDy")),c=(t("IJu9"),t("DuHN")),i=(t("ljfu"),t("x2dm")),o=t("ERkP"),m=t.n(o),u=t("qPc2"),j=(t("svhj"),t("aux4")),d=(t("TPNu"),t("VogX")),h=(t("zI7Q"),t("SCaQ")),v=t("maMK"),p=t.n(v),E="http://zeus.v.yidian-inc.com/api/app/common/upload",N=e=>{var a=e.value,t=e.onChange,n=Object(o["useState"])(!1),s=p()(n,2),r=s[0],l=s[1],i=e=>{var a=e.file;if("uploading"===a.status&&l(!0),"done"===a.status){var n=a.response;n&&"success"===n.status?(c["a"].success("\u4e0a\u4f20\u6210\u529f"),t&&t(n.url)):c["a"].error("".concat(a.name,"\u4e0a\u4f20\u5931\u8d25! ").concat(n.message)),l(!1)}},u=m.a.createElement(h["a"],{size:"small"},m.a.createElement(d["a"],{type:r?"loading":"plus"}),"\u4e0a\u4f20");return m.a.createElement(m.a.Fragment,null,m.a.createElement(j["a"],{name:"image",listType:"text",showUploadList:!1,action:E,onChange:i},a||u))},g=N,f=i["a"].Option,y=e=>{var a=e.index,t=e.total,o=e.onMove,j=e.onDelete,d=e.data,h=e.type,v=e.onChange,p=["h5","native"],E=e=>{0!==a||"up"!==e?a!==t-1||"down"!==e?o&&o(e,a):c["a"].info("\u5f53\u524d\u9879\u5df2\u5904\u4e8e\u6700\u540e\u4e00\u9879,\u4e0d\u80fd\u4e0b\u79fb"):c["a"].info("\u5f53\u524d\u9879\u5df2\u5904\u4e8e\u7b2c\u4e00\u9879,\u4e0d\u80fd\u4e0a\u79fb")},N=()=>{j&&j(a)},y=e=>{v&&v(a,e.target.name,e.target.value)},b=()=>{var e="",a="";return h===u["TV_CHANNEL"]?(e="\u8bf7\u8f93\u5165tv-channel-id",a="tv_channel_id"):(e="\u8bf7\u8f93\u5165docid",a="docid"),m.a.createElement(l["a"],{placeholder:e,size:"small",value:d[a],onChange:y,name:a})},_=()=>{var e="";return e=h===u["TV_CHANNEL"]?"channel_name":"title",m.a.createElement(l["a"],{placeholder:"\u8bf7\u8f93\u5165\u6807\u9898",size:"small",value:d[e],onChange:y,name:e})},O=()=>{var e="";return e=h===u["TV_CHANNEL"]?"icon":"Image",m.a.createElement(g,{value:d[e],onChange:I})},I=e=>{var t="Image";h===u["TV_CHANNEL"]&&(t="icon"),v&&v(a,t,e)},T=()=>{return h===u["AUDIO"]?m.a.createElement(l["a"],{placeholder:"\u8bf7\u8f93\u5165\u5408\u4f5c\u65b9id",size:"small",value:d["albumid"],onChange:y,name:"albumid"}):m.a.createElement(i["a"],{size:"small",value:d["action_type"],style:{width:"100%"},placeholder:"\u8bf7\u9009\u62e9\u7c7b\u578b",onChange:e=>v(a,"action_type",e)},p.map(e=>m.a.createElement(f,{value:e,key:e},e)))},C=()=>{var e="open_value",a="";if(h!==u["AUDIO"])return h===u["TV_CHANNEL"]&&(a="\u53c2\u6570\u4e3ah5\u65f6\u586burl\uff0c\u4e3anative\u65f6\u586btv_channel_id"),h===u["MOVIE"]&&(a="\u53c2\u6570\u4e3ah5\u65f6\u586burl\uff0c\u4e3anative\u65f6\u586bdocid"),m.a.createElement(l["a"],{placeholder:a,size:"small",value:d[e],onChange:y,name:e})};return m.a.createElement(m.a.Fragment,null,m.a.createElement(r["a"],{gutter:8,style:{flex:1}},m.a.createElement(s["a"],{span:4},b()),m.a.createElement(s["a"],{span:5},_()),m.a.createElement(s["a"],{span:5},T()),m.a.createElement(s["a"],{span:5},C()),m.a.createElement(s["a"],{span:5},O())),m.a.createElement("div",null,m.a.createElement("a",{onClick:()=>E("up")},"\u4e0a\u79fb"),m.a.createElement(n["a"],{type:"vertical",dashed:!0}),m.a.createElement("a",{onClick:()=>E("down")},"\u4e0b\u79fb"),m.a.createElement(n["a"],{type:"vertical",dashed:!0}),m.a.createElement("a",{onClick:()=>N()},"\u5220\u9664")))};a["default"]=y}}]);