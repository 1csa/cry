(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"+ego":function(e,a,t){"use strict";t.r(a);t("GNNt");var n=t("wEI+"),l=t("q1tI"),r=t.n(l),o=(t("T2oS"),t("W9HT")),c=t("/MKj"),i=(t("oBUM"),()=>{var e="//pandora.yidian-inc.com/tools/admin/login",a=location.href;location.href="".concat(e,"?callback=").concat(a)}),m=e=>{var a=e.children,t=e.user,n=e.dispatch,c=t.currentUser,m=c&&c.isAuthing,s=c&&c.email,u=!s&&!m;return Object(l["useEffect"])(()=>{n({type:"user/fetchCurrent"}),n({type:"auth/fetchAuth"})},[]),r.a.createElement(r.a.Fragment,null,s?a:u?i():r.a.createElement("div",{className:"page-loading"},r.a.createElement(o["a"],{size:"large",spinning:m})))},s=Object(c["c"])(e=>{var a=e.user,t=e.auth;return{user:a,auth:t}})(m),u=(t("B9cy"),t("Ol7k")),d=(t("5Dmo"),t("3S7+")),h=(t("Telt"),t("Tckk")),p=(t("qVdP"),t("jsC+")),g=(t("Pwec"),t("CtXQ")),E=(t("lUTK"),t("BvKs")),y=t("6YkS"),b=t("TSYQ"),f=t.n(b),v=t("ubDG"),w=(t("F72t"),u["a"].Header),N=E["a"].Item,k=(E["a"].SubMenu,e=>e.map(e=>{}));class S extends r.a.Component{render(){var e=this.props,a=this.props.currentUser,t=void 0===a?{}:a,n=r.a.createElement(E["a"],{className:"action-menu-dropdown"},r.a.createElement(N,null,r.a.createElement(g["a"],{type:"mail"}),t.email),r.a.createElement(E["a"].Divider,null),r.a.createElement(N,null,r.a.createElement(g["a"],{type:"rollback"}),r.a.createElement("a",{href:"//pandora.yidian-inc.com"},"\u8fd4\u56de Pandora \u5de5\u5177\u5e73\u53f0"))),l=f()({"global-header":!0,"global-header-dark":"dark"===this.props.theme,"global-header-light":"light"===this.props.theme});return r.a.createElement(w,{className:l},r.a.createElement("div",{className:"global-header-inner"},r.a.createElement("div",{className:"logo"},r.a.createElement(y["Link"],{to:"/"},v["a"].logo?r.a.createElement("img",{src:v["a"].logo.toString(),alt:""}):null,r.a.createElement("h1",null,v["a"].appName))),r.a.createElement(E["a"],{className:"main-menu",theme:this.props.theme,mode:"horizontal",defaultSelectedKeys:e.defaultSelectedKeys},k(v["a"].menus)),r.a.createElement("div",{className:"action-menus"},r.a.createElement(p["a"],{className:"action-menu",overlay:n},r.a.createElement("span",null,r.a.createElement(h["a"],{size:"small",src:t.avatar||"//s.go2yd.com/a/thead_meiguoduizhang.png"}),r.a.createElement("span",null,t.name))),v["a"].helpDoc?r.a.createElement(d["a"],{placement:"bottom",title:"\u4f7f\u7528\u6587\u6863"},r.a.createElement("a",{className:"action-menu",href:v["a"].helpDoc,target:"__blank"},r.a.createElement(g["a"],{type:"question-circle"}))):null)))}}var O=Object(c["c"])(e=>({currentUser:e.user.currentUser}))(S),j=(t("wNoj"),u["a"].Footer),K=()=>{return r.a.createElement(j,{className:"global-footer"},(new Date).getFullYear()," @ \u4e00\u70b9\u8d44\u8baf")},x=K,_=t("haZw"),z=(t("W660"),Object(_["a"])(v["a"].appId).splited),C=u["a"].Content;class D extends l["Component"]{constructor(){super(...arguments),this.state={collapsed:!1},this.toggleSider=(()=>{this.setState({collapsed:!this.state.collapsed})})}render(){return r.a.createElement(u["a"],{className:"basic-layout"},r.a.createElement(O,{defaultSelectedKeys:z,theme:this.props.theme,collapsed:this.state.collapsed,toggleSider:this.toggleSider}),r.a.createElement(C,{className:"basic-layout-content"},this.props.children),r.a.createElement(x,null))}}var I=D,A=t("qIgq"),M=t.n(A),U=t("eZYV"),q=t("0lfv"),F=(t("h3zL"),u["a"].Header),L=E["a"].Item,T=e=>{var a=e.user.currentUser,t=void 0===a?{}:a,n=r.a.createElement(E["a"],{className:"action-menu-dropdown"},r.a.createElement(L,null,r.a.createElement(g["a"],{type:"mail"}),t.email),r.a.createElement(E["a"].Divider,null),r.a.createElement(L,null,r.a.createElement(g["a"],{type:"rollback"}),r.a.createElement("a",{href:"/"},"\u8fd4\u56de Pandora \u5de5\u5177\u5e73\u53f0")));return r.a.createElement(F,{className:"global-header"},r.a.createElement(g["a"],{className:"sider-trigger",type:e.collapsed?"menu-unfold":"menu-fold",onClick:e.toggleSider}),r.a.createElement("div",{className:"action-menus"},r.a.createElement(p["a"],{className:"action-menu",overlay:n},r.a.createElement("span",null,r.a.createElement(h["a"],{size:"small",src:t.avatar||"//s.go2yd.com/a/thead_meiguoduizhang.png"}),r.a.createElement("span",null,t.name))),v["a"].helpDoc?r.a.createElement(d["a"],{placement:"bottom",title:"\u4f7f\u7528\u6587\u6863"},r.a.createElement("a",{className:"action-menu",href:v["a"].helpDoc,target:"__blank"},r.a.createElement(g["a"],{type:"question-circle"}))):null))},B=Object(c["c"])(e=>{var a=e.user;return{user:a}})(T),G=t("gzwA"),P=(t("l7QO"),u["a"].Sider),Q=E["a"].Item,Y=E["a"].SubMenu,H=(e,a)=>e.map(e=>{if(e.subMenu&&e.subMenu.length>0){var t=r.a.createElement(Y,{key:e.key,title:r.a.createElement("span",null,e.icon?r.a.createElement(g["a"],{type:e.icon}):null,r.a.createElement("span",null,e.name))},H(e.subMenu,a));if(!e.authKey)return t;if(a.includes(e.authKey))return t}else{var n=r.a.createElement(Q,{key:e.key},r.a.createElement(y["Link"],{to:e.key},e.icon?r.a.createElement(g["a"],{type:e.icon}):null,r.a.createElement("span",null,e.name)));if(!e.authKey)return n;if(a.includes(e.authKey))return n}}),J=e=>{var a,t,n=(null===e||void 0===e?void 0:null===(a=e.auth)||void 0===a?void 0:null===(t=a.currentAuth)||void 0===t?void 0:t.childAuths)||[];return r.a.createElement(P,{theme:e.theme,width:"200",trigger:null,collapsible:!0,collapsed:e.collapsed},r.a.createElement("div",{className:"logo"},r.a.createElement(y["Link"],{to:"/"},v["a"].logo?r.a.createElement("img",{src:v["a"].logo.toString(),alt:""}):null,r.a.createElement("h1",null,v["a"].appName))),r.a.createElement(E["a"],{theme:e.theme,mode:"inline",defaultOpenKeys:e.defaultOpenKeys,defaultSelectedKeys:e.defaultSelectedKeys,onClick:()=>{Object(G["a"])({page:"editor_push_news",action_id:"competitor"})}},H(v["a"].menus,n)))},W=Object(c["c"])(e=>{var a=e.auth;return{auth:a}})(J),R=t("jFnJ"),V=(t("5RGE"),Object(q["a"])(v["a"].appId).splited),Z=(V[0],e=>{var a=e.theme,t=e.children,n=Object(c["d"])(),o=Object(c["e"])(R["a"]),i=Object(c["e"])(R["d"]),m=Object(l["useState"])(!1),s=M()(m,2),d=s[0],h=s[1],p=()=>{h(e=>!e)};return Object(l["useEffect"])(()=>{n({type:"accountEnum/getAccountAuth",payload:{}}),n({type:"accountEnum/getAccountInfo",payload:{}})},[]),r.a.createElement(U["a"],{value:{editor_authes:o,tool_authes:i}},r.a.createElement(u["a"],{className:"sidebar-layout",style:{marginLeft:d?"80px":"220px"}},r.a.createElement(W,{defaultOpenKeys:[],defaultSelectedKeys:V,theme:a,collapsed:d}),r.a.createElement(u["a"],{className:"sidebar-layout-main"},r.a.createElement(B,{collapsed:d,toggleSider:p}),r.a.createElement(u["a"].Content,{className:"sidebar-layout-main-content"},t),r.a.createElement(x,null))))}),X=Z,$=t("xc/l"),ee=t.n($),ae=v["a"].layout,te=e=>{return r.a.createElement(n["b"],{locale:ee.a},r.a.createElement(s,null,ae.hasSidebar?r.a.createElement(X,{theme:ae.theme},e.children):r.a.createElement(I,{theme:ae.theme},e.children)))};a["default"]=te},"5RGE":function(e,a,t){e.exports={"sidebar-layout":"sidebar-layout","ant-layout-sider":"ant-layout-sider","main-content":"main-content","main-content-with-page-header":"main-content-with-page-header","sidebar-layout-main":"sidebar-layout-main","sidebar-layout-main-content":"sidebar-layout-main-content","sider-trigger":"sider-trigger"}},F72t:function(e,a,t){e.exports={"basic-layout":"basic-layout","global-header":"global-header","global-header-inner":"global-header-inner",logo:"logo","main-menu":"main-menu","ant-menu-item":"ant-menu-item","action-menus":"action-menus","action-menu":"action-menu","ant-avatar":"ant-avatar","global-header-dark":"global-header-dark","ant-menu-item-selected":"ant-menu-item-selected","global-header-light":"global-header-light","action-menu-dropdown":"action-menu-dropdown","ant-dropdown-menu-item":"ant-dropdown-menu-item"}},W660:function(e,a,t){e.exports={"basic-layout-content":"basic-layout-content","page-header":"page-header","main-content":"main-content","main-content-with-page-header":"main-content-with-page-header","sider-trigger":"sider-trigger"}},h3zL:function(e,a,t){e.exports={"sidebar-layout":"sidebar-layout","global-header":"global-header","ant-layout-header":"ant-layout-header","action-menus":"action-menus","action-menu":"action-menu","ant-avatar":"ant-avatar","action-menu-dropdown":"action-menu-dropdown","ant-dropdown-menu-item":"ant-dropdown-menu-item"}},l7QO:function(e,a,t){e.exports={"ant-layout-sider":"ant-layout-sider",logo:"logo","ant-layout-sider-light":"ant-layout-sider-light"}},oBUM:function(e,a,t){e.exports={"page-loading":"page-loading"}},wNoj:function(e,a,t){e.exports={"global-footer":"global-footer"}}}]);