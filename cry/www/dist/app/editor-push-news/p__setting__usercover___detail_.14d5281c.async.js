(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[16],{"49xn":function(e,a,t){"use strict";t.r(a);t("+L6B");var n=t("2/Rp"),r=(t("jCWc"),t("kPKH")),l=(t("14J3"),t("BMrR")),c=(t("Pwec"),t("CtXQ")),s=(t("5Dmo"),t("3S7+")),i=(t("IzEo"),t("bx4M")),m=t("d6i3"),o=t.n(m),d=(t("miYZ"),t("tsqr")),p=t("1l/V"),u=t.n(p),E=t("qIgq"),g=t.n(E),v=(t("Znn+"),t("ZTPi")),b=t("q1tI"),h=t.n(b),y=t("KYPV"),f=t("vbjC"),C=t("aN9G"),k=t("aMlF"),x=t("TS7C"),w=t("ExYV"),M=t("CN3I"),N=t("dmQA"),P=t("Ok+i"),S=t("/MKj"),T=t("3a4m"),O=t.n(T),j=t("fNOv"),A=t("A7Dc"),L=(t("TpwP"),t("ep3T"),f["a"].Item),F=C["a"].Option,_=v["a"].TabPane,B={labelCol:{sm:{span:4}},wrapperCol:{sm:{span:20}}},I={wrapperCol:{sm:{span:20,offset:4}}},V={verticalAlign:"middle",marginLeft:2,marginTop:-2,color:"#1d92ff"},q=e=>{var a=e.dispatch,t=e.dimension,m=t.dimensionMapList,p=Object(b["useState"])(!0),E=g()(p,2),S=E[0],T=E[1],q=Object(b["useState"])(1),R=g()(q,2),D=R[0],G=R[1],Z=Object(b["useState"])({}),K=g()(Z,2),H=K[0],J=K[1],Y=Object(b["useState"])(""),Q=g()(Y,2),z=Q[0],W=Q[1];Object(b["useEffect"])(()=>{Object.keys(m).length||a({type:"dimension/getDimensionListAll"}),T(!1)},[]),Object(b["useEffect"])(()=>{2!==D||S||(U(),T(!0))},[D]);var X=e=>{return document.getElementById(e)},U=()=>{var e=new window.BMap.Map("l-map");e.centerAndZoom("\u5317\u4eac",12);var a,t=new BMap.Autocomplete({input:"suggestId",location:e});function n(){function t(){var a=n.getResults().getPoi(0).point;e.centerAndZoom(a,18),J(a),e.addOverlay(new BMap.Marker(a))}e.clearOverlays();var n=new BMap.LocalSearch(e,{onSearchComplete:t});n.search(a)}t.addEventListener("onhighlight",function(e){var a="",t=e.fromitem.value,n="";e.fromitem.index>-1&&(n=t.province+t.city+t.district+t.street+t.business),a="FromItem<br />index = "+e.fromitem.index+"<br />value = "+n,n="",e.toitem.index>-1&&(t=e.toitem.value,n=t.province+t.city+t.district+t.street+t.business),a+="<br />ToItem<br />index = "+e.toitem.index+"<br />value = "+n,W(n),X("searchResultPanel").innerHTML=a}),t.addEventListener("onconfirm",function(e){var t=e.item.value;a=t.province+t.city+t.district+t.street+t.business,X("searchResultPanel").innerHTML="onconfirm<br />index = "+e.item.index+"<br />myValue = "+a,n()})},$=()=>{return{name:"",aliasName:"",gender:void 0,gender_score:.65,age:[],age_score:.5,regionType:"county",lbsProfile:[],sctCanClick:!1,sct:[],sctScore:70,vsctCanClick:!1,vsct:[],vsctScore:70,radius:0}},ee=e=>{G(Number(e))},ae=function(){var e=u()(o.a.mark(function e(a){var t,n,r,l,c,s,i,m,p,u,E,v,b,h,y,f,C,k,x,w,M,N;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=a.aliasName,n=a.name,r=a.gender,l=a.gender_score,c=a.age,s=a.age_score,i=a.lbsProfile,m=a.sctCanClick,p=a.sct,u=a.sctScore,E=a.vsctCanClick,v=a.vsct,b=a.vsctScore,h=a.radius,y={gender:r?[r]:void 0,age:c,lbsProfile:i,sct:m?p:null,vsct:E?v:null},f=[],Object.entries(y).forEach(e=>{var a=g()(e,2),t=a[0],n=a[1];n&&n.length&&f.push({key:t,interests:n})}),f=f.map(e=>{var a=e.key;e.interests;return"gender"===a&&(e.properties={threshold:"MEAN/GT/".concat(l)}),"age"===a&&(e.properties={threshold:"MEAN/GT/".concat(s)}),"sct"===a&&(e.properties={threshold:"MEAN/GT/".concat(u)}),"vsct"===a&&(e.properties={threshold:"MEAN/GT/".concat(b)}),e}),1!==D){e.next=14;break}return C={name:n+"_push",aliasName:t,dimensions:f},e.next=9,A["a"](C);case 9:k=e.sent,x=k.header,0===x.code?(d["a"].success("\u4fdd\u5b58\u6210\u529f!"),O.a.push("/setting/usercover")):d["a"].error("\u4fdd\u5b58\u5931\u8d25!"),e.next=20;break;case 14:return w={name:n+"_push",aliasName:t,addressName:z,lat:H.lat,lon:H.lng,r:Number(h)},e.next=17,A["b"](w);case 17:M=e.sent,N=M.header,0===N.code?(d["a"].success("\u4fdd\u5b58\u6210\u529f!"),O.a.push("/setting/usercover")):d["a"].error("\u4fdd\u5b58\u5931\u8d25!");case 20:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}();return h.a.createElement("div",{className:"usercover"},h.a.createElement(M["a"],{currentMenu:"\u5708\u5b9a\u4eba\u7fa4\u7ba1\u7406",currentSubMenu:"\u65b0\u589e"}),h.a.createElement(i["a"],{className:"usercover-content"},h.a.createElement("div",{style:{width:"800px",margin:"0 auto"}},h.a.createElement(y["c"],{initialValues:$(),onSubmit:e=>ae(e)},e=>{var a=e.values,t=e.setFieldValue,i=e.handleReset;return h.a.createElement(f["a"],Object.assign({},B),h.a.createElement(L,{name:"name",label:"\u7fa4\u7ec4\u540d(\u82f1\u6587)",validate:j["b"]},h.a.createElement(k["a"],{name:"name",addonAfter:"_push",placeholder:"\u8bf7\u8f93\u5165\u82f1\u6587\u7fa4\u7ec4\u540d(\u5b57\u6bcd\u5f00\u5934\uff0c\u4ec5\u9650\u5b57\u6bcd\u6570\u5b57\u548c\u4e0b\u5212\u7ebf\uff0c\u5982\uff1achannel_group2)"})),h.a.createElement(L,{name:"aliasName",label:"\u7fa4\u7ec4\u540d(\u4e2d\u6587)",validate:j["a"]},h.a.createElement(k["a"],{name:"aliasName",placeholder:"\u8bf7\u8f93\u5165\u4e2d\u6587\u7fa4\u7ec4\u540d"})),h.a.createElement(v["a"],{type:"card",defaultActiveKey:D,onChange:ee},h.a.createElement(_,{tab:"\u5174\u8da3\u6761\u4ef6\u7cbe\u7ec6\u5316",key:"1"},h.a.createElement(L,{name:"gender",label:h.a.createElement(h.a.Fragment,null,"\u6027\u522b",h.a.createElement(s["a"],{title:"\u8bf7\u9009\u62e9\u6027\u522b\uff0c\u65e0\u9009\u9879\u65f6\u5c06\u4e0d\u8fdb\u884c\u8be5\u7ef4\u5ea6\u7684\u7b5b\u9009"},h.a.createElement(c["a"],{type:"question-circle",style:V})))},h.a.createElement(h.a.Fragment,null,h.a.createElement(l["a"],{gutter:10},h.a.createElement(r["a"],{span:19},h.a.createElement(C["a"],{name:"gender",allowClear:!0,placeholder:"\u8bf7\u9009\u62e9\u6027\u522b\uff0c\u65e0\u9009\u9879\u65f6\u9ed8\u8ba4\u4e3a\u5168\u90e8"},m.gender&&m.gender.map(e=>{return h.a.createElement(F,{key:e.key},e.value)}))),h.a.createElement(r["a"],{span:5},h.a.createElement(L,{name:"gender_score",validate:j["c"],style:{marginBottom:0}},h.a.createElement(x["a"],{name:"gender_score",style:{width:"100%"},placeholder:"\u6700\u4f4e\u7f6e\u4fe1\u5ea6",min:-100,max:100,precision:2,step:.01})))))),h.a.createElement(L,{name:"age",label:h.a.createElement(h.a.Fragment,null,"\u5e74\u9f84",h.a.createElement(s["a"],{title:"\u8bf7\u9009\u62e9\u5e74\u9f84\uff0c\u65e0\u9009\u9879\u65f6\u5c06\u4e0d\u8fdb\u884c\u8be5\u7ef4\u5ea6\u7684\u7b5b\u9009"},h.a.createElement(c["a"],{type:"question-circle",style:V})))},h.a.createElement(h.a.Fragment,null,h.a.createElement(l["a"],{gutter:10},h.a.createElement(r["a"],{span:19},h.a.createElement(C["a"],{name:"age",mode:"multiple",placeholder:"\u8bf7\u9009\u62e9\u5e74\u9f84\uff0c\u65e0\u9009\u9879\u65f6\u9ed8\u8ba4\u4e3a\u5168\u90e8"},m.age&&m.age.map(e=>{return h.a.createElement(F,{key:e.key},e.value)}))),h.a.createElement(r["a"],{span:5},h.a.createElement(L,{name:"age_score",validate:j["c"],style:{marginBottom:0}},h.a.createElement(x["a"],{name:"age_score",style:{width:"100%"},placeholder:"\u6700\u4f4e\u7f6e\u4fe1\u5ea6",min:-100,max:100,precision:2,step:.01})))))),h.a.createElement(L,{name:"lbs",label:h.a.createElement(h.a.Fragment,null,"\u6240\u5728\u5730",h.a.createElement(s["a"],{title:"\u53ef\u4ee5\u9009\u62e9\u654f\u611f\u533a\u57df\uff0c\u884c\u653f\u533a\u5212\u6307\u7684\u662f\u7701\u5e02\u53bf\u533a\u7684\u7b5b\u9009"},h.a.createElement(c["a"],{type:"question-circle",style:V})))},h.a.createElement(l["a"],{gutter:12},h.a.createElement(r["a"],{span:24},h.a.createElement(L,{name:"lbsProfile",style:{marginBottom:0}},h.a.createElement(N["a"],{lbsProfile:a.lbsProfile||[],setFieldValue:t,lbsProfileDimensionMapList:m.lbsProfile}))))),h.a.createElement(L,{name:"interest",label:h.a.createElement(h.a.Fragment,null,"\u5174\u8da3\u6807\u7b7e",h.a.createElement(s["a"],{title:"\u7b5b\u9009\u7528\u6237\u5bf9\u56fe\u6587\u6216\u89c6\u9891\u4e0b\uff0c\u67d0\u7c7b\u6807\u7b7e\u7684\u559c\u597d\u7a0b\u5ea6"},h.a.createElement(c["a"],{type:"question-circle",style:V})))},h.a.createElement(l["a"],{gutter:10},h.a.createElement(r["a"],{span:3},h.a.createElement(L,{name:"sctCanClick"},h.a.createElement(w["a"],{name:"sctCanClick"},"\u56fe\u6587"))),h.a.createElement(r["a"],{span:16},h.a.createElement(P["a"],{name:"sct",setFieldValue:t,interestTagDimensionMapList:m.sct,disabled:!a.sctCanClick})),h.a.createElement(r["a"],{span:5},h.a.createElement(L,{name:"sctScore"},h.a.createElement(x["a"],{name:"sctScore",disabled:!a.sctCanClick,style:{width:"100%"},placeholder:"\u6700\u4f4e\u7f6e\u4fe1\u5ea6",min:-100,max:100,precision:0,step:1})))),h.a.createElement(l["a"],{gutter:10},h.a.createElement(r["a"],{span:3},h.a.createElement(L,{name:"vsctCanClick"},h.a.createElement(w["a"],{name:"vsctCanClick"},"\u89c6\u9891"))),h.a.createElement(r["a"],{span:16},h.a.createElement(P["a"],{name:"vsct",setFieldValue:t,interestTagDimensionMapList:m.vsct,disabled:!a.vsctCanClick})),h.a.createElement(r["a"],{span:5},h.a.createElement(L,{name:"vsctScore"},h.a.createElement(x["a"],{name:"vsctScore",disabled:!a.vsctCanClick,style:{width:"100%"},placeholder:"\u6700\u4f4e\u7f6e\u4fe1\u5ea6",min:-100,max:100,precision:0,step:1})))))),h.a.createElement(_,{tab:"\u5750\u6807\u534a\u5f84\u5708\u5b9a",key:"2",disabled:!0},h.a.createElement("div",{id:"r-result",style:{display:"inline-block"}},"\u8bf7\u8f93\u5165\uff1a",h.a.createElement("input",{id:"suggestId",style:{border:"1px solid #d9d9d9",borderRadius:"4px",height:"30px"}})),h.a.createElement("div",{style:{display:"inline-block",marginLeft:"20px"}},"\u534a\u5f84\uff1a",h.a.createElement(k["a"],{name:"radius",style:{width:"100px"},addonAfter:"km"})),h.a.createElement("div",{id:"searchResultPanel",style:{border:"1px solid #C0C0C0",width:"150px",height:"auto",display:"none"}}),h.a.createElement("div",{id:"l-map",style:{height:"350px",width:"500px",marginTop:"10px",marginBottom:"20px"}}))),h.a.createElement(L,Object.assign({},I,{name:"operate"}),h.a.createElement(n["a"],{type:"primary",icon:"save",htmlType:"submit"},"\u4fdd\u5b58"),h.a.createElement(n["a"],{type:"primary",icon:"rollback",style:{marginLeft:"20px"},onClick:i},"\u91cd\u7f6e")))}))))};a["default"]=Object(S["c"])(e=>{return{dimension:e.dimension}})(q)}}]);