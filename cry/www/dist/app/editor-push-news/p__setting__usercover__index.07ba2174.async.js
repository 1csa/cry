(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[17],{x5iR:function(e,t,a){"use strict";a.r(t);a("2qtc");var r=a("kLXV"),n=(a("g9YV"),a("wCAj")),l=(a("+L6B"),a("2/Rp")),s=(a("IzEo"),a("bx4M")),c=a("d6i3"),i=a.n(c),m=(a("miYZ"),a("tsqr")),u=a("1l/V"),o=a.n(u),d=(a("P2fV"),a("NJEC")),p=(a("/zsF"),a("PArb")),E=(a("5Dmo"),a("3S7+")),h=a("qIgq"),b=a.n(h),y=(a("bP8k"),a("gFTJ")),S=a("q1tI"),f=a.n(S),k=a("CN3I"),w=a("MStj"),v=a("vbjC"),I=a("aN9G"),g=a("aMlF"),x=a("KYPV"),N=a("/MKj"),j=a("3a4m"),O=a.n(j),T=a("wd/R"),C=a.n(T),F=a("A7Dc"),A=a("c+yx"),P=(a("TpwP"),a("ep3T"),w["a"].RangePicker),M=v["a"].Item,V=I["a"].Option,q=y["a"].Item,J={labelCol:{sm:{span:2}},wrapperCol:{sm:{span:6}}},R={wrapperCol:{sm:{span:6,offset:2}}},z={gender:"\u6027\u522b",age:"\u5e74\u9f84",lbsProfile:"\u5730\u57df\u9009\u62e9",lbsTier:"\u57ce\u5e02\u7ea7\u522b",lbsBlock:"\u654f\u611f\u533a\u57df",sct:"\u5174\u8da3\u6807\u7b7e(\u56fe\u6587)",vsct:"\u5174\u8da3\u6807\u7b7e(\u89c6\u9891)"},D=e=>{e.dispatch,e.user;var t=Object(S["useState"])([]),a=b()(t,2),c=a[0],u=a[1],h=Object(S["useState"])(!1),w=b()(h,2),N=w[0],j=w[1],T=Object(S["useState"])([]),D=b()(T,2),K=D[0],L=D[1],U=Object(S["useState"])(0),Y=b()(U,2),B=Y[0],G=Y[1],X=Object(S["useState"])({pageSize:10,total:B,current:1}),Z=b()(X,2),H=Z[0],Q=Z[1],W=Object(S["useState"])(!1),$=b()(W,2),_=$[0],ee=$[1],te=Object(S["useState"])({}),ae=b()(te,2),re=ae[0],ne=ae[1];Object(S["useEffect"])(()=>{me(),ue()},[]);var le=[{title:"\u7fa4\u7ec4Id",key:"index",width:75,dataIndex:"userSetId",align:"center"},{title:"\u7fa4\u7ec4\u540d",dataIndex:"userSetAliasName",key:"userSetAliasName",width:150},{title:"\u521b\u5efa\u4eba",dataIndex:"authorName",key:"authorName",width:100,render:(e,t)=>{return f.a.createElement(E["a"],{placement:"top",title:t.author},f.a.createElement("span",null,e))}},{title:"\u7528\u6237\u91cf\u7ea7",dataIndex:"userEstimateFull",key:"userEstimateFull",width:150,render:e=>{return e?A["c"](e):"\u8ba1\u7b97\u4e2d"}},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"createTime",key:"createTime",width:150,render:e=>{return A["f"](e)}},{title:"\u66f4\u65b0\u65f6\u95f4",dataIndex:"userEstimateUpdateTimeFull",key:"userEstimateUpdateTimeFull",width:150,render:e=>{return A["f"](e)}},{title:"\u64cd\u4f5c",key:"operate",width:150,render:(e,t)=>{return f.a.createElement("span",null,f.a.createElement("a",{onClick:()=>oe(t)},"\u8be6\u60c5"),f.a.createElement(p["a"],{type:"vertical"}),f.a.createElement(d["a"],{title:"\u786e\u5b9a\u8981\u5220\u9664 ".concat(t.userSetAliasName," \u7fa4\u7ec4\u5417?"),okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onConfirm:()=>ie(t.userSetId)},f.a.createElement("a",null,"\u5220\u9664")))}}],se=e=>{Q(e)},ce=e=>{var t=e.userSetIdOrName,a=e.authorEmails,r=e.timeStamp,n={userSetIdOrName:t,authorEmails:a,startTimeStamp:r.length?A["e"](r[0],!1):void 0,endTimeStamp:r.length?A["e"](r[1],!0):void 0};ue(n)},ie=function(){var e=o()(i.a.mark(function e(t){var a,r;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,F["c"]({id:t});case 2:a=e.sent,r=a.header,0===r.code?(m["a"].success("\u5220\u9664\u6210\u529f!"),ue()):m["a"].error("\u5220\u9664\u5931\u8d25,".concat(r.message,"!"));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=o()(i.a.mark(function e(){var t,a,r;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,F["e"]();case 2:t=e.sent,a=t.header,r=t.data,0===a.code?u(r):m["a"].error("\u83b7\u53d6\u521b\u5efa\u4eba\u4e0b\u62c9\u5217\u8868\u5931\u8d25!");case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=o()(i.a.mark(function e(t){var a,r,n;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return j(!0),e.next=3,F["f"](t);case 3:a=e.sent,r=a.header,n=a.data,0===r.code?(L(n),G(n.length),j(!1)):(j(!1),m["a"].error("\u641c\u7d22\u5931\u8d25!"));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),oe=e=>{ee(!0),ne(e)};return f.a.createElement("div",{className:"usercover"},f.a.createElement(k["a"],{currentMenu:"\u5708\u5b9a\u4eba\u7fa4\u7ba1\u7406",currentSubMenu:"\u5217\u8868"}),f.a.createElement(s["a"],{className:"usercover-content"},f.a.createElement(x["c"],{initialValues:{userSetIdOrName:"",authorEmails:[],timeStamp:[]},onSubmit:e=>ce(e)},()=>f.a.createElement(v["a"],Object.assign({},J),f.a.createElement(M,{name:"userSetIdOrName",label:"\u7528\u6237\u7fa4\u7ec4"},f.a.createElement(g["a"],{name:"userSetIdOrName",placeholder:"\u8bf7\u8f93\u5165\u7fa4\u7ec4ID\u6216\u7fa4\u7ec4\u540d"})),f.a.createElement(M,{name:"authorEmails",label:"\u521b\u5efa\u4eba"},f.a.createElement(I["a"],{name:"authorEmails",mode:"multiple",placeholder:"\u8bf7\u8f93\u5165\u521b\u5efa\u4eba\u59d3\u540d\u6216\u90ae\u7bb1",optionFilterProp:"children"},c.map(e=>{return f.a.createElement(V,{key:e.email},e.emailNickName+"("+e.email+")")}))),f.a.createElement(M,{name:"timeStamp",label:"\u521b\u5efa\u65f6\u95f4"},f.a.createElement(P,{name:"timeStamp",ranges:{"\u4eca\u5929":[C()(),C()()],"\u6700\u8fd13\u5929":[C()().subtract(3,"days"),C()()],"\u6700\u8fd17\u5929":[C()().subtract(7,"days"),C()()],"\u6700\u8fd115\u5929":[C()().subtract(15,"days"),C()()],"\u6700\u8fd130\u5929":[C()().subtract(30,"days"),C()()]}})),f.a.createElement(M,Object.assign({},R,{name:"operate"}),f.a.createElement(l["a"],{type:"primary",icon:"search",htmlType:"submit"},"\u641c\u7d22"),f.a.createElement(l["a"],{style:{marginLeft:"20px"},type:"primary",icon:"plus",onClick:()=>O.a.push("/setting/usercover/add")},"\u65b0\u589e")))),f.a.createElement(n["a"],{columns:le,dataSource:K,rowKey:e=>e.userSetId+"",bordered:!0,pagination:H,loading:N,onChange:se})),f.a.createElement(r["a"],{title:"\u7fa4\u7ec4\u8be6\u60c5",visible:_,width:1e3,footer:null,onCancel:()=>ee(!1)},f.a.createElement(y["a"],{column:2},f.a.createElement(q,{label:"\u7fa4\u7ec4 id"},re.userSetId),f.a.createElement(q,{label:"\u7528\u6237\u91cf\u7ea7"},A["c"](re.userEstimateFull)),f.a.createElement(q,{label:"\u7fa4\u7ec4\u540d(\u82f1\u6587)"},re.userSetName),f.a.createElement(q,{label:"\u7fa4\u7ec4\u540d(\u4e2d\u6587)"},re.userSetAliasName),f.a.createElement(q,{label:"\u521b\u5efa\u4eba"},re.author),f.a.createElement(q,{label:"\u521b\u5efa\u65f6\u95f4"},A["f"](re.createTime)),f.a.createElement(q,{label:"\u66f4\u65b0\u65f6\u95f4"},A["f"](re.userEstimateUpdateTimeFull))),f.a.createElement(p["a"],{orientation:"left"},"\u5708\u9009\u89c4\u5219"),f.a.createElement(y["a"],{column:2},Array.isArray(re.dimensions)&&re.dimensions.map(e=>{return e.properties&&e.properties.threshold?f.a.createElement(q,{key:e.key,label:z[e.key]||e.key},e.interests.join("\u3001")+"\uff08\u9608\u503c\uff1a"+e.properties.threshold.split("/")[2]+"\uff09"):f.a.createElement(q,{key:e.key,label:z[e.key]||e.key},e.interests.join("\u3001"))}))))};t["default"]=Object(N["c"])()(D)}}]);