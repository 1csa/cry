(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"+ego":function(e,a,t){"use strict";t.r(a);var n=t("ERkP"),l=t.n(n),r=(t("T2oS"),t("W9HT")),o=t("uDfI"),c=(t("oBUM"),()=>{var e="//pandora.yidian-inc.com/tools/admin/login",a=location.href;location.href="".concat(e,"?callback=").concat(a)}),i=e=>{var a=e.children,t=e.user,o=e.dispatch,i=t.currentUser,s=i&&i.isAuthing,m=i&&i.email,d=!m&&!s;return Object(n["useEffect"])(()=>{o({type:"user/fetchCurrent"})},[]),console.log(m,s,d),l.a.createElement(l.a.Fragment,null,m?a:d?c():l.a.createElement("div",{className:"page-loading"},l.a.createElement(r["a"],{size:"large",spinning:s})))},s=Object(o["c"])(e=>{var a=e.user;return{user:a}})(i),m=(t("B9cy"),t("Ol7k")),d=(t("5Dmo"),t("3S7+")),u=(t("Telt"),t("Tckk")),p=(t("qVdP"),t("jsC+")),h=(t("Pwec"),t("CtXQ")),g=(t("lUTK"),t("BvKs")),E=t("U60H"),b=t("O94r"),y=t.n(b),f={appId:"Metis",appName:"Metis",logo:"http://si1.go2yd.com/get-image/0ZAJxXeZ6iu",menus:[{key:"/",icon:"HomeOutlined",name:"\u9996\u9875"},{key:"/pandaUser",icon:"ShareAltOutlined",name:"\u57fa\u7840\u95ee\u9898\u67e5\u8be2",subMenu:[{icon:"ToolOutlined",key:"/pandaUser/userDebug",name:"user debug"},{key:"/pandaUser/userPortrait",icon:"UserSwitchOutlined",name:"\u7528\u6237\u753b\u50cf"},{key:"/pandaUser/articlePortrait",icon:"ExceptionOutlined",name:"\u6587\u7ae0\u753b\u50cf"}]},{icon:"FieldTimeOutlined",key:"/recommended",name:"\u63a8\u8350\u95ee\u9898\u6392\u67e5",subMenu:[{key:"/recommended/searchPloem",icon:"ClusterOutlined",name:"\u8bf7\u6c42url \u67e5\u8be2"},{key:"/recommended/blenderPloem",icon:"FilePdfOutlined",name:"blender \u95ee\u9898\u6392\u67e5"},{key:"/recommended/newsPloem",icon:"UserSwitchOutlined",name:"user2news\u95ee\u9898\u6392\u67e5"},{key:"/recommended/videoPloem",icon:"UsergroupDeleteOutlined",name:"user2video\u95ee\u9898\u6392\u67e5"},{key:"/recommended/u2mircoPloem",icon:"FolderOpenOutlined",name:"user2micro\u95ee\u9898\u6392\u67e5"},{key:"/recommended/cbPloem",icon:"PartitionOutlined",name:"cb\u95ee\u9898\u6392\u67e5"},{key:"/recommended/aioPloem",icon:"ReconciliationOutlined",name:"aio\u95ee\u9898\u6392\u67e5"},{key:"/recommended/mircoPloem",name:"channel2news\u95ee\u9898\u6392\u67e5",icon:"UserAddOutlined"}]}],layout:{hasSidebar:!0,theme:"dark"}},k=f,v=(t("F72t"),m["a"].Header),S=g["a"].Item,w=g["a"].SubMenu,N=e=>e.map(e=>{return e.subMenu&&e.subMenu.length>0?l.a.createElement(w,{key:e.key,title:l.a.createElement("span",null,l.a.createElement(h["a"],{type:e.icon}),l.a.createElement("span",null,e.name))},N(e.subMenu)):l.a.createElement(S,{key:e.key},l.a.createElement(E["Link"],{to:e.key},l.a.createElement(h["a"],{type:e.icon}),l.a.createElement("span",null,e.name)))});class O extends l.a.Component{render(){var e=this.props,a=this.props.currentUser,t=void 0===a?{}:a,n=l.a.createElement(g["a"],{className:"action-menu-dropdown"},l.a.createElement(S,null,l.a.createElement(h["a"],{type:"mail"}),t.email),l.a.createElement(g["a"].Divider,null),l.a.createElement(S,null,l.a.createElement(h["a"],{type:"rollback"}),l.a.createElement("a",{href:"//pandora.yidian-inc.com"},"\u8fd4\u56de Pandora \u5de5\u5177\u5e73\u53f0"))),r=y()({"global-header":!0,"global-header-dark":"dark"===this.props.theme,"global-header-light":"light"===this.props.theme});return l.a.createElement(v,{className:r},l.a.createElement("div",{className:"global-header-inner"},l.a.createElement("div",{className:"logo"},l.a.createElement(E["Link"],{to:"/"},k.logo?l.a.createElement("img",{src:k.logo.toString(),alt:""}):null,l.a.createElement("h1",null,k.appName))),l.a.createElement(g["a"],{className:"main-menu",theme:this.props.theme,mode:"horizontal",defaultSelectedKeys:e.defaultSelectedKeys},N(k.menus)),l.a.createElement("div",{className:"action-menus"},l.a.createElement(p["a"],{className:"action-menu",overlay:n},l.a.createElement("span",null,l.a.createElement(u["a"],{size:"small",src:t.avatar||"//s.go2yd.com/a/thead_meiguoduizhang.png"}),l.a.createElement("span",null,t.name))),k.helpDoc?l.a.createElement(d["a"],{placement:"bottom",title:"\u4f7f\u7528\u6587\u6863"},l.a.createElement("a",{className:"action-menu",href:k.helpDoc,target:"__blank"},l.a.createElement(h["a"],{type:"question-circle"}))):null)))}}var U=Object(o["c"])(e=>({currentUser:e.user.currentUser}))(O),x=(t("wNoj"),m["a"].Footer),M=()=>{return l.a.createElement(x,{className:"global-footer"},(new Date).getFullYear()," @ \u4e00\u70b9\u8d44\u8baf")},P=M;function D(e){var a=new RegExp("/app/".concat(e,"(/(w*))?")),t=location.pathname.replace(a,"$1");t.endsWith("/")&&(t=t.substring(0,t.length-1));var n=t.split("/");return n=n.length>=2?n.filter(e=>""!==e).map(e=>"/".concat(e)):["/"],{original:t,splited:n}}t("W660");var C=D(k.appId).splited,j=m["a"].Content;class F extends n["Component"]{constructor(){super(...arguments),this.state={collapsed:!1},this.toggleSider=(()=>{this.setState({collapsed:!this.state.collapsed})})}render(){return l.a.createElement(m["a"],{className:"basic-layout"},l.a.createElement(U,{defaultSelectedKeys:C,theme:this.props.theme,collapsed:this.state.collapsed,toggleSider:this.toggleSider}),l.a.createElement(j,{className:"basic-layout-content"},this.props.children),l.a.createElement(P,null))}}var I=F,K=(t("J+/v"),t("MoRW")),_=t("ggb3"),z=t.n(_),T=t("aCCm"),L=t("bvDX"),R=t("RE9g"),W=t("V/Jd"),A=(t("h3zL"),m["a"].Header),H=g["a"].Item,J=e=>{var a=e.user.currentUser,t=void 0===a?{}:a;Object(n["useEffect"])(()=>{localStorage.setItem("userName",t.name),localStorage.setItem("user",t.email)},[]);var r=l.a.createElement(g["a"],{className:"action-menu-dropdown"},l.a.createElement(H,null,l.a.createElement(T["a"],null),t.email),l.a.createElement(g["a"].Divider,null),l.a.createElement(H,null,l.a.createElement(L["a"],null),l.a.createElement("a",{href:"/"},"\u8fd4\u56de Pandora \u5de5\u5177\u5e73\u53f0")));return l.a.createElement(A,{className:"global-header"},e.collapsed?l.a.createElement(R["a"],{className:"sider-trigger",onClick:e.toggleSider}):l.a.createElement(W["a"],{className:"sider-trigger",onClick:e.toggleSider}),l.a.createElement("div",{className:"action-menus"},l.a.createElement(p["a"],{className:"action-menu",overlay:r},l.a.createElement("span",null,l.a.createElement(u["a"],{size:"small",src:t.avatar||"//s.go2yd.com/a/thead_meiguoduizhang.png"}),l.a.createElement("span",null,t.name))),k.helpDoc?l.a.createElement(d["a"],{placement:"bottom",title:"\u4f7f\u7528\u6587\u6863"},l.a.createElement("a",{className:"action-menu",href:k.helpDoc,target:"__blank"},l.a.createElement(h["a"],{type:"question-circle"}))):null))},q=Object(o["c"])(e=>{var a=e.user;return{user:a}})(J),B=t("maMK"),Q=t.n(B),X=t("zCf4"),G=(t("l7QO"),t("prms")),V=m["a"].Sider,Z=g["a"].Item,Y=g["a"].SubMenu,$=e=>e.map(e=>{return e.subMenu&&e.subMenu.length>0?l.a.createElement(Y,{key:e.key,icon:ee(e.icon),title:l.a.createElement("span",null,l.a.createElement("span",null,e.name))},$(e.subMenu)):l.a.createElement(Z,{key:e.key,icon:ee(e.icon)},l.a.createElement(E["Link"],{to:e.key},l.a.createElement("span",null,e.name)))});function ee(e){return l.a.createElement(G[e])}var ae=e=>{var a=Object(X["k"])(),t=Object(n["useState"])(""),r=Q()(t,2),o=r[0],c=r[1];Object(n["useEffect"])(()=>{a.listen(e=>{var a=e.pathname.split("/"),t="/"+a[a.length-1],n="/"+a[a.length-2]+"/"+a[a.length-1];c("//"==n?t:n)})},[]);var i=e=>{c(e.key),a.push(e.key)};return l.a.createElement(V,{theme:e.theme,width:"260",trigger:null,collapsible:!0,collapsed:e.collapsed},l.a.createElement("div",{className:"logo"},l.a.createElement(E["Link"],{to:"/"},k.logo?l.a.createElement("img",{src:k.logo.toString(),alt:""}):null,l.a.createElement("h1",null,k.appName))),l.a.createElement(g["a"],{theme:e.theme,onClick:i,mode:"inline",selectedKeys:[o],defaultSelectedKeys:e.defaultSelectedKeys},$(k.menus)))},te=ae,ne=(t("5RGE"),D(k.appId).splited);class le extends n["Component"]{constructor(){super(...arguments),this.state={collapsed:!1,menus:[],hasLocation:[],location:"",flag:!0},this.toggleSider=(()=>{this.setState({collapsed:!this.state.collapsed})})}UNSAFE_componentWillUpdate(){ne=D(k.appId).splited}componentDidMount(){z.a.get("/api/proxy/http://pandora.yidian-inc.com/tools/auth/index?tool=3230116050").then(e=>{this.setState({flag:"success"===e.data.status}),console.log(e,"res")})}_renderDom(){var e=this.state.flag;return e?l.a.createElement(l.a.Fragment,null,l.a.createElement(te,{defaultSelectedKeys:ne,theme:this.props.theme,collapsed:this.state.collapsed}),l.a.createElement(m["a"],null,l.a.createElement(q,{collapsed:this.state.collapsed,toggleSider:this.toggleSider}),this.props.children,l.a.createElement(P,null))):l.a.createElement(l.a.Fragment,null,l.a.createElement(te,{defaultSelectedKeys:ne,theme:this.props.theme,collapsed:this.state.collapsed}),l.a.createElement(m["a"],null,l.a.createElement(q,{collapsed:this.state.collapsed,toggleSider:this.toggleSider}),l.a.createElement(K["a"],{status:"403",title:"403",subTitle:l.a.createElement("div",null,l.a.createElement("p",null,"Sorry, \u60a8\u6682\u65e0\u6b64\u9875\u9762\u6743\u9650, \u7533\u8bf7\u5b8c\u6743\u9650\u540e\u5237\u65b0\u9875\u9762;"),l.a.createElement("p",null,l.a.createElement("span",{style:{color:"red"}},"\u5de5\u5177\u540d\u79f0: "),"Metis-\u63a8\u8350debug\u5e73\u53f0")),extra:l.a.createElement("a",{href:"http://pandora.yidian-inc.com/tools/admin/manage",target:"__blank"},"\u7533\u8bf7\u6743\u9650")}),l.a.createElement(P,null)))}render(){return l.a.createElement(m["a"],{className:"sidebar-layout"},this._renderDom())}}var re=le,oe=t("nqlr"),ce=k.layout,ie=e=>(Object(n["useEffect"])(()=>{var e={email:"",userName:"",browserUrl:location.href,env:"",platform:"metis"},a=location.host.indexOf("http://zeus.v.yidian-inc.com")>-1;e["env"]=a?"prod":"dev";var t=localStorage.userName,n=localStorage.user;e["userName"]=t,e["email"]=n,location.host.indexOf("localhost")<0&&Object(oe["a"])(e,"http://10.126.155.163:1151/scanStatic/addScanInfo")},[location.href]),l.a.createElement(s,null,ce.hasSidebar?l.a.createElement(re,{theme:ce.theme},e.children):l.a.createElement(I,{theme:ce.theme},e.children)));a["default"]=ie},"5RGE":function(e,a,t){e.exports={"sidebar-layout":"sidebar-layout","main-content":"main-content","main-content-with-page-header":"main-content-with-page-header","sider-trigger":"sider-trigger"}},F72t:function(e,a,t){e.exports={"basic-layout":"basic-layout","global-header":"global-header","global-header-inner":"global-header-inner",logo:"logo","main-menu":"main-menu","ant-menu-item":"ant-menu-item","action-menus":"action-menus","action-menu":"action-menu","ant-avatar":"ant-avatar","global-header-dark":"global-header-dark","ant-menu-item-selected":"ant-menu-item-selected","global-header-light":"global-header-light","action-menu-dropdown":"action-menu-dropdown","ant-dropdown-menu-item":"ant-dropdown-menu-item"}},W660:function(e,a,t){e.exports={"basic-layout-content":"basic-layout-content","page-header":"page-header","main-content":"main-content","main-content-with-page-header":"main-content-with-page-header","sider-trigger":"sider-trigger"}},h3zL:function(e,a,t){e.exports={"sidebar-layout":"sidebar-layout","global-header":"global-header","action-menus":"action-menus","action-menu":"action-menu","ant-avatar":"ant-avatar","action-menu-dropdown":"action-menu-dropdown","ant-dropdown-menu-item":"ant-dropdown-menu-item"}},l7QO:function(e,a,t){e.exports={"ant-layout-sider":"ant-layout-sider",logo:"logo","ant-layout-sider-light":"ant-layout-sider-light"}},oBUM:function(e,a,t){e.exports={"page-loading":"page-loading"}},wNoj:function(e,a,t){e.exports={"global-footer":"global-footer"}}}]);