(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{wbjj:function(e,t,a){"use strict";a.r(t);var l=a("JCfe"),r=a.n(l),n=(a("+L6B"),a("2/Rp")),c=(a("/zsF"),a("PArb")),s=(a("IzEo"),a("bx4M")),m=(a("miYZ"),a("tsqr")),o=a("maMK"),u=a.n(o),i=a("GdFB"),b=a.n(i),d=a("q1tI"),p=a.n(d),E=a("zCf4"),f=a("uDfI"),y=a("NKCw"),j=a("Nhdc"),O=a("ojqu"),h=a("eZYV"),g=a("0lfv"),k=a("pQDE"),w=(a("Z8v4"),e=>{b()(e);var t=Object(E["k"])(),a=Object(h["d"])(),l=Object(d["useRef"])(null),r=Object(E["n"])(),o=Object(y["e"])({defaultValues:O["ab"]}),i=Object(f["d"])(),w=(Object(f["e"])(e=>e.user.authes),Object(f["e"])(e=>e.strategy.strategy)),v=Object(d["useState"])(!1),C=u()(v,2),N=C[0],M=C[1],z=Object(d["useState"])(!1),S=u()(z,2),F=S[0],I=S[1],P=a.mode,q=r.params.id,D="new"===q,J=Object(d["useCallback"])(e=>{0!==Object.keys(e).length?i({type:"strategy/poststrat",payload:{data:e,mode:P,isnew:D},callback:()=>I(!0)}):m["b"].error("\u5361\u7247\u6570\u636e\u4e0d\u80fd\u4e3a\u7a7a")},[]),R=Object(d["useCallback"])(()=>{t.push("/strategy")},[]),Z=()=>{I(!1),t.push("/strategy")},_=Object(d["useCallback"])(()=>{if(M(!1),!l.current)return i({type:"common/message",payload:{type:"error",message:"\u672a\u627e\u5230\u63d0\u4ea4\u6309\u94ae"}});l.current.click()},[l]);return Object(d["useEffect"])(()=>{if(!D)return i({type:"strategy/fetchstrat",payload:{mode:P,id:q}}),()=>{i({type:"strategy/updatestrat",payload:{strat:O["ab"]}})}},[]),Object(d["useEffect"])(()=>{w&&o.reset(Object(g["s"])(w,O["ab"]))},[w]),p.a.createElement(y["b"],Object.assign({},o),p.a.createElement("h3",null,"\u7b56\u7565\u7ba1\u7406/\u65b0\u5efa\u7b56\u7565"),p.a.createElement(s["a"],{className:"form stratform",type:"inner"},p.a.createElement(j["a"],{className:"stratform-form",submitRef:l,onSubmit:J},p.a.createElement("section",{className:"stratform-form-basic"},p.a.createElement("h4",null,"\u57fa\u7840\u914d\u7f6e"),p.a.createElement(k["a"],null)),p.a.createElement(c["a"],null),p.a.createElement("section",{className:"stratform-form-basic"},p.a.createElement("h4",null,"\u8bbe\u5907\u914d\u7f6e"),p.a.createElement(k["f"],{form:o})),p.a.createElement(c["a"],null),p.a.createElement("section",{className:"stratform-form-display"},p.a.createElement("h4",null,"\u5c55\u793a\u914d\u7f6e"),p.a.createElement(k["b"],{form:o,mode:P})),p.a.createElement(c["a"],null),p.a.createElement("section",{className:"stratform-form-user"},p.a.createElement("h4",null,"\u7528\u6237\u5708\u9009"),p.a.createElement(k["e"],null)),p.a.createElement("section",{className:"stratform-form-operation"},p.a.createElement(n["a"],{className:"item",size:"small",onClick:R},"\u8fd4 \u56de"),p.a.createElement(j["l"],{className:"item",type:"modal",label:"\u63d0 \u4ea4",content:"\u662f\u5426\u63d0\u4ea4\u8be5\u7b56\u7565\u914d\u7f6e?",showModal:N,onShowModal:()=>M(!0),onCloseModal:()=>M(!1),modalProps:{title:"\u63d0\u4ea4\u65b0\u5efa\u7b56\u7565",footer:p.a.createElement(p.a.Fragment,null,p.a.createElement(n["a"],{size:"small",onClick:()=>M(!1)},"\u53d6 \u6d88"),p.a.createElement(j["l"],{type:"modal",label:"\u786e \u8ba4",content:p.a.createElement(p.a.Fragment,null,p.a.createElement("p",null,p.a.createElement(j["i"],{type:"checked"}),p.a.createElement("span",null,"\u7b56\u7565\u914d\u7f6e\u5df2\u63d0\u4ea4")),p.a.createElement("p",null,"\u7b56\u7565ID: ".concat(null===w||void 0===w?void 0:w.strat_id)),p.a.createElement("p",null,"\u7b56\u7565\u540d\u79f0: ".concat((null===w||void 0===w?void 0:w.strat_title)||"--")),p.a.createElement("p",null,"\u7b56\u7565\u8bf4\u660e: ".concat((null===w||void 0===w?void 0:w.strat_remark)||"--"))),showModal:F,onShowModal:_,onCloseModal:()=>I(!1),buttonProps:{type:"primary"},modalProps:{footer:p.a.createElement(n["a"],{size:"small",type:"primary",onClick:Z},"\u8fd4\u56de\u5217\u8868")}}))}})))))});t["default"]=Object(f["c"])(e=>{var t=e.user,a=e.strategy;return r()({},t,a)})(p.a.memo(w))}}]);