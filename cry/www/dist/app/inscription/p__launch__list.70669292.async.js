(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"4fes":function(e,a,t){"use strict";t.r(a);t("g9YV");var l=t("wCAj"),n=(t("/zsF"),t("PArb")),c=(t("5Dmo"),t("3S7+")),r=t("JCfe"),m=t.n(r),o=t("maMK"),u=t.n(o),p=t("q1tI"),i=t.n(p),s=t("zCf4"),d=t("uDfI"),h=t("Nhdc"),E=t("Bg7x"),b=t("eZYV"),f=t("0lfv"),y=(t("+L6B"),t("2/Rp")),O=t("NKCw"),k=e=>{var a=e.launchOption,t=e.cardOption,l=e.dispatch,n=e.onConfirm,c=Object(O["e"])({defaultValues:E["y"]}),r=Object(b["d"])(),m=Object(p["useRef"])(null),o=Object(p["useState"])(!1),s=u()(o,2),d=s[0],f=s[1],k=Object(p["useState"])(!1),j=u()(k,2),C=j[0],g=j[1],w=Object(b["c"])(e=>{g(!0),l({type:"launch/fetchlaunchoption",payload:{mode:r.mode,inputId:e},callback:()=>g(!1)})},500),_=Object(b["c"])(e=>{f(!0),l({type:"card/fetchcardoption",payload:{mode:r.mode,inputId:e},callback:()=>f(!1)})},500),N=Object(p["useCallback"])(()=>{if(!m.current)return l({type:"common/message",payload:{type:"error",message:"\u672a\u627e\u5230\u786e\u8ba4\u6309\u94ae"}});m.current.click()},[m]);return i.a.createElement(O["b"],Object.assign({},c),i.a.createElement("h4",null,"\u7b5b\u9009"),i.a.createElement(h["a"],{submitRef:m,onSubmit:n},i.a.createElement(h["d"],{form:!0,name:E["o"],label:"\u6295\u653eID"},i.a.createElement(h["o"],{placeholder:"\u8bf7\u8f93\u5165\u6295\u653eID",notFoundContent:C?i.a.createElement(h["i"],{type:"loading"}):i.a.createElement("p",null,"\u6682\u65e0\u6570\u636e"),showSearch:!0,allowClear:!0,options:a,onSearch:w})),i.a.createElement(h["d"],{form:!0,name:E["l"],label:"\u6295\u653e\u5361\u7247"},i.a.createElement(h["o"],{placeholder:"\u8bf7\u8f93\u5165\u5361\u7247ID",notFoundContent:d?i.a.createElement(h["i"],{type:"loading"}):i.a.createElement("p",null,"\u6682\u65e0\u6570\u636e"),options:t,showSearch:!0,allowClear:!0,onSearch:_})),i.a.createElement(h["d"],{form:!0,name:E["k"],label:"APPID"},i.a.createElement(h["j"],{placeholder:"\u8bf7\u8f93\u5165appid",defaultValue:null})),i.a.createElement(h["d"],{form:!0,name:E["r"],label:"\u6295\u653e\u72b6\u6001"},i.a.createElement(h["o"],{options:E["u"],defaultValue:0})),i.a.createElement(h["d"],{label:"\u521b\u5efa\u65f6\u95f4"},i.a.createElement("div",{className:"formitem-flex"},i.a.createElement(h["d"],{form:!0,name:E["n"]},i.a.createElement(h["q"],{placeholder:"\u5f00\u59cb\u65f6\u95f4"})),i.a.createElement("span",null," - "),i.a.createElement(h["d"],{form:!0,name:E["m"]},i.a.createElement(h["q"],{placeholder:"\u7ed3\u675f\u65f6\u95f4"})))),i.a.createElement(h["d"],{label:"\u6295\u653e\u65f6\u95f4"},i.a.createElement("div",{className:"formitem-flex"},i.a.createElement(h["d"],{form:!0,name:E["q"]},i.a.createElement(h["q"],{placeholder:"\u5f00\u59cb\u65f6\u95f4"})),i.a.createElement("span",null," - "),i.a.createElement(h["d"],{form:!0,name:E["p"]},i.a.createElement(h["q"],{placeholder:"\u7ed3\u675f\u65f6\u95f4"}))))),i.a.createElement(y["a"],{size:"small",type:"primary",onClick:N},"\u786e \u8ba4"))},j=i.a.memo(k),C=(t("wYU5"),{page:1,pageCount:10}),g=E["y"],w=e=>{var a=e.dispatch,t=e.launchList,r=e.launchTotal,o=e.launchOption,d=void 0===o?[]:o,y=e.cardOption,O=void 0===y?[]:y,k=Object(p["useState"])(C),w=u()(k,2),_=w[0],N=w[1],S=Object(p["useState"])(g),v=u()(S,2),I=v[0],q=v[1],z=Object(p["useState"])(!1),P=u()(z,2),D=P[0],F=P[1],V=Object(s["k"])(),M=Object(s["n"])(),x=Object(b["d"])(),A=x.mode,J=Object(p["useCallback"])(e=>{a({type:"launch/copylaunch",payload:{id:e,mode:A},callback:()=>V.push("".concat(M.path,"/new"))})},[A,_,I]),K=Object(p["useCallback"])(e=>{a({type:"launch/stoplaunch",payload:{id:e,mode:A,listQuery:m()({},I,_)}})},[A,_,I]),R=e=>{var a={page:e.current||1,pageCount:e.pageSize||10};N(a),B(m()({},a,I))},Y=e=>{var a=Object(f["o"])(e);console.log(a,"newScreen"),F(!1),q(a),N(m()({},_,{page:1})),B(m()({},a,_,{page:1}))},B=Object(p["useCallback"])((e,t)=>{a({type:"launch/fetchlist",payload:{query:e,mode:A},callback:t})},[A]),L=(e,a)=>{return i.a.createElement("div",{className:"launchlist-list-operation"},i.a.createElement(h["k"],{type:"link",to:"".concat(M.path,"/").concat(a[E["h"]])},"\u67e5\u770b"),i.a.createElement(h["l"],{type:"func",label:"\u590d\u5236",buttonProps:{type:"link"},funcProps:{title:"\u786e\u5b9a\u590d\u5236\u8be5\u5361\u7247",onOk:()=>J(a[E["h"]])}}),[E["t"],E["s"]].includes(a[E["i"]])?i.a.createElement(h["l"],{type:"func",label:"\u505c\u6b62",buttonProps:{type:"link"},funcProps:{title:"\u786e\u5b9a\u505c\u7528\u8be5\u5361\u7247",onOk:()=>K(a[E["h"]])}}):null)},Q=(e,a)=>{return i.a.createElement(i.a.Fragment,null,i.a.createElement(c["a"],{title:a.create_timekey?Object(f["p"])(Number(a.create_timekey)):"--"},i.a.createElement("p",{className:"formcontent"},"\u521b\u5efa\u65f6\u95f4:",a.create_timekey?Object(f["p"])(Number(a.create_timekey)):"--")),i.a.createElement(c["a"],{title:a.launch_start?Object(f["p"])(Number(a.launch_start)):"--"},i.a.createElement("p",{className:"formcontent"},"\u6295\u653e\u65f6\u95f4:",a.launch_start?Object(f["p"])(Number(a.launch_start)):"--")),i.a.createElement(c["a"],{title:a.launch_end?Object(f["p"])(Number(a.launch_end)):"--"},i.a.createElement("p",{className:"formcontent"},"\u7ed3\u675f\u65f6\u95f4:",a.launch_end?Object(f["p"])(Number(a.launch_end)):"--")))},T=(e,a)=>{return i.a.createElement(i.a.Fragment,null,i.a.createElement(c["a"],{title:a.launch_name?a.launch_name:"--"},i.a.createElement("p",{className:"formcontent"},"\u6295\u653e\u6807\u9898:",a.launch_name?a.launch_name:"--")),i.a.createElement(c["a"],{title:a.launch_remark?a.launch_remark:"--"},i.a.createElement("p",{className:"formcontent"},"\u6295\u653e\u8bf4\u660e:",a.launch_remark?a.launch_remark:"--")))};return Object(p["useEffect"])(()=>{B(_)},[]),i.a.createElement("div",{className:"launchlist"},i.a.createElement("section",{className:"launchlist-header"},i.a.createElement("h3",null,i.a.createElement(h["i"],{type:"bank"}),i.a.createElement("span",null,"\u6295\u653e\u7ba1\u7406")),i.a.createElement("div",{className:"launchlist-header-operation"},i.a.createElement(h["l"],{type:"drawer",label:"\u7b5b\u9009",showModal:D,content:i.a.createElement(j,{cardOption:O,launchOption:d,dispatch:a,onConfirm:Y}),onShowModal:()=>F(!0),onCloseModal:()=>F(!1)}),i.a.createElement(h["k"],{type:"button",to:"".concat(M.path,"/new")},"\u65b0\u589e"))),i.a.createElement(n["a"],null),i.a.createElement("section",null,i.a.createElement(l["a"],{rowKey:E["h"],dataSource:t,pagination:{total:r,current:_.page,pageSize:_.pageCount,size:"small",showSizeChanger:!0},onChange:R},E["j"].map(e=>i.a.createElement(l["a"].Column,Object.assign({key:e.key},e))),i.a.createElement(l["a"].Column,{key:"information",title:"\u6295\u653e\u4fe1\u606f",width:240,render:T}),i.a.createElement(l["a"].Column,{key:"time",title:"\u65f6\u95f4",width:240,render:Q}),i.a.createElement(l["a"].Column,{key:"operation",title:"\u64cd\u4f5c",width:180,render:L}))))};a["default"]=Object(d["c"])(e=>{var a=e.launch,t=e.card;return m()({},a,{cardOption:t.cardOption})})(i.a.memo(w))}}]);