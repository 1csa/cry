(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"2WDQ":function(e,t,a){e.exports={"historylist-header":"historylist-header","historylist-list-operation":"historylist-list-operation",submit:"submit",cardscreen:"cardscreen","cardscreen-footer":"cardscreen-footer"}},YoWN:function(e,t,a){"use strict";a.r(t);a("g9YV");var r=a("wCAj"),l=(a("/zsF"),a("PArb")),n=a("JCfe"),o=a.n(n),i=a("maMK"),c=a.n(i),d=a("q1tI"),s=a.n(d),m=a("NKCw"),u=a("uDfI"),p=a("Nhdc"),b=a("eZYV"),y=a("0lfv"),h="id",f="target_type",v="operation_type",g="target_title",E="target_id",k="operation_creator",C="create_timekey",w="target_type",j="operation_type",I="operation_creator",_="create_start",O="create_end",S=[{label:"\u5361\u7247\u7ba1\u7406",value:"card"},{label:"\u7b56\u7565\u7ba1\u7406",value:"strategy"},{label:"\u8d1f\u53cd\u9988\u7b56\u7565",value:"feedback"},{label:"\u6295\u653e\u7ba1\u7406",value:"launch"}],x=[{label:"\u65b0\u589e",value:"add"},{label:"\u4fee\u6539",value:"update"},{label:"\u505c\u7528",value:"stop"},{label:"\u5220\u9664",value:"delete"},{label:"\u6062\u590d",value:"reuse"},{label:"\u590d\u5236",value:"copy"}],z=[{title:"ID",key:h,dataIndex:h},{title:"\u64cd\u4f5c\u7c7b\u578b",key:v,dataIndex:v,render:e=>{var t;return e?null===(t=x.find(t=>t.value===e))||void 0===t?void 0:t.label:"--"}},{title:"\u64cd\u4f5c\u5bf9\u8c61",key:f,dataIndex:f,render:e=>{var t;return e?null===(t=S.find(t=>t.value===e))||void 0===t?void 0:t.label:"--"}},{title:"\u540d\u79f0",key:g,dataIndex:g,render:e=>e||"--"},{title:"\u5bf9\u8c61ID",key:E,dataIndex:E},{title:"\u64cd\u4f5c\u4eba",key:k,dataIndex:k,render:e=>e?decodeURIComponent(e).replace("@yidian-inc.com",""):"--"},{title:"\u64cd\u4f5c\u65f6\u95f4",key:C,dataIndex:C,render:e=>e?Object(y["p"])(e):"--"}],D=(a("+L6B"),a("2/Rp")),N=(a("miYZ"),a("tsqr")),M=s.a.memo(e=>{var t=e.form,a=e.onConfirm,r=Object(d["useRef"])(null),l=()=>{if(!r.current)return N["b"].error("\u672a\u627e\u5230\u786e\u8ba4\u6309\u94ae");r.current.click()};return s.a.createElement(m["b"],Object.assign({},t),s.a.createElement("h4",null,"\u7b5b\u9009"),s.a.createElement(p["a"],{submitRef:r,onSubmit:a},s.a.createElement(p["d"],{form:!0,name:w,label:"\u64cd\u4f5c\u5bf9\u8c61"},s.a.createElement(p["o"],{options:S})),s.a.createElement(p["d"],{form:!0,name:j,label:"\u64cd\u4f5c\u7c7b\u578b"},s.a.createElement(p["o"],{options:x})),s.a.createElement(p["d"],{form:!0,name:I,label:"\u64cd\u4f5c\u4eba"},s.a.createElement(p["j"],null)),s.a.createElement(p["d"],{form:!0,label:"\u64cd\u4f5c\u65f6\u95f4"},s.a.createElement(p["n"],{startTime:_,endTime:O}))),s.a.createElement(D["a"],{size:"small",type:"primary",onClick:l},"\u786e\u8ba4"))}),R=(a("2WDQ"),{page:1,pageCount:10}),Y={},q=e=>{var t=e.dispatch,a=e.historyTotal,n=e.historyList,i=Object(m["e"])(),u=Object(b["d"])(),y=Object(d["useState"])(R),f=c()(y,2),v=f[0],g=f[1],E=Object(d["useState"])(Y),k=c()(E,2),C=k[0],w=k[1],j=Object(d["useState"])(!1),I=c()(j,2),_=I[0],O=I[1],S=e=>{O(!1),w(e),g(o()({},v,{page:1})),D(o()({},e,v,{page:1}))},x=e=>{var t=e.current||1,a=e.pageSize||10;g({page:t,pageCount:a}),D(o()({},C,{page:t,pageCount:a}))},D=e=>{t({type:"other/fetchhistory",payload:{query:e,mode:u.mode}})};return Object(d["useEffect"])(()=>{D(v)},[]),s.a.createElement("div",{className:"historylist"},s.a.createElement("section",{className:"historylist-header"},s.a.createElement("h3",null,s.a.createElement(p["i"],{type:"bank"}),s.a.createElement("span",null,"\u64cd\u4f5c\u65e5\u5fd7")),s.a.createElement(p["l"],{type:"drawer",label:"\u7b5b\u9009",showModal:_,content:s.a.createElement(M,{form:i,onConfirm:S}),onShowModal:()=>O(!0),onCloseModal:()=>O(!1),buttonProps:{type:"primary"}})),s.a.createElement(l["a"],null),s.a.createElement(r["a"],{rowKey:h,columns:z,dataSource:n,pagination:{current:v.page,pageSize:v.pageCount,total:a,size:"small",showSizeChanger:!0},onChange:x}))};t["default"]=Object(u["c"])(e=>{var t=e.other;return o()({},t)})(s.a.memo(q))}}]);