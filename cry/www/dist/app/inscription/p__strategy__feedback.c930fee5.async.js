(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{kjf7:function(e,a,t){"use strict";t.r(a);var c=t("JCfe"),d=t.n(c),n=(t("g9YV"),t("wCAj")),o=(t("/zsF"),t("PArb")),l=(t("IzEo"),t("bx4M")),r=t("maMK"),b=t.n(r),s=t("q1tI"),u=t.n(s),i=t("uDfI"),f=t("Nhdc"),m=t("wknW"),k=t("ojqu"),p=t("eZYV"),y=t("pQDE"),g={page:1,pageCount:9999},_=u.a.memo(e=>{var a=e.dispatch,t=e.authes,c=e.feedbackList,d=e.feedbackTotal,r=Object(p["d"])(),i=Object(s["useMemo"])(()=>t.includes(m["a"]),[t]),_=Object(s["useState"])(g),h=b()(_,2),w=h[0],E=h[1],C=Object(s["useState"])(k["Z"]),j=b()(C,2),O=j[0],v=j[1],I=r.mode,M=Object(s["useCallback"])((e,t)=>{a({type:"strategy/postfeedback",payload:{feedback:e,mode:I,isnew:t,listQuery:w}})},[I,w]),S=Object(s["useCallback"])(e=>{var a=e.feedback_id,t=e.feedback_name,c=e.feedback_forbidden_days,d=e.feedback_downright,n=e.feedback_downright_count,o=e.feedback_downright_days;v({feedback_id:a,feedback_name:t,feedback_forbidden_days:c,feedback_downright:d,feedback_downright_count:n,feedback_downright_days:o})},[]),z=Object(s["useCallback"])(e=>{a({type:"strategy/deletefeedback",payload:{feedback_id:e,mode:I,query:w}})},[I,w]),P=Object(s["useCallback"])(e=>{var a=e.current||1,t=e.pageSize||9999;E({page:a,pageCount:t})},[]),q={dataIndex:"operation",key:"operation",title:"\u64cd\u4f5c",render:(e,a)=>u.a.createElement(u.a.Fragment,null,u.a.createElement(f["l"],{type:"modal",label:"\u67e5 \u770b",showModal:O.feedback_id===a.feedback_id,buttonProps:{type:"link"},modalProps:{title:a[k["J"]],destroyOnClose:!0},content:u.a.createElement(y["c"],{edit:!1,authed:i,onCommit:M,feedback:O}),onShowModal:()=>S(a),onCloseModal:()=>v(k["Z"])}),u.a.createElement(f["l"],{type:"func",label:"\u5220 \u9664",funcProps:{title:"\u786e\u5b9a\u5220\u9664\u8be5\u8d1f\u53cd\u9988\u7b56\u7565?",onOk:()=>z(a[k["I"]])},buttonProps:{type:"link"}}))};return Object(s["useEffect"])(()=>{a({type:"strategy/fetchfblist",payload:{mode:I,query:w}})},[I,w]),u.a.createElement("div",{className:"feedback"},u.a.createElement("h3",null,"\u7b56\u7565\u7ba1\u7406/\u8d1f\u53cd\u9988\u7b56\u7565"),u.a.createElement(l["a"],{className:"feedback-card"},u.a.createElement("h4",null,"\u65b0\u5efa\u8d1f\u53cd\u9988"),u.a.createElement(y["c"],{edit:!0,authed:i,onCommit:M})),u.a.createElement(o["a"],null),u.a.createElement(l["a"],{className:"feedback-card"},u.a.createElement("h4",null,"\u5386\u53f2\u8d1f\u53cd\u9988"),u.a.createElement(n["a"],{rowKey:k["I"],columns:[...k["G"],q],dataSource:c,pagination:{size:"small",total:d,current:w.page,pageSize:w.pageCount},onChange:P})))});a["default"]=Object(i["c"])(e=>{var a=e.user,t=e.strategy;return d()({},a,t)})(u.a.memo(_))}}]);